<!-- Version: $Id$
Copyright (C) 1997 The Regents of the University of California.
All rights reserved.

Permission is hereby granted, without written agreement and without
license or royalty fees, to use, copy, modify, and distribute this
software and its documentation for any purpose, provided that the above
copyright notice and the following two paragraphs appear in all copies
of this software.

IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY 
FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES 
ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF 
THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF 
SUCH DAMAGE.

THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE UNIVERSITY OF
CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES,
ENHANCEMENTS, OR MODIFICATIONS.
-->

<html>
<head>
<title>What's New in Ptolemy0.7</title>
</head>
<body bgcolor=#faf0e6>
<h1><img src="../../../tycho/typt/kernel/img/ptolemyWelcome.gif"
alt="Ptolemy Logo">
<A NAME="What's New in Ptolemy 0.7">What's New in Ptolemy 0.7</A>
</h1>

Unlike earlier releases of Ptolemy, Ptolemy 0.7 does not contain a
"What's New" facet, instead we are using HTML to describe the new
features.

 <P>This page is best viewed with Tycho, as it uses extensions to html
<MENU>
<LI> Some of the links lead to Ptolemy facets, which a regular browser
won't know how to handle.

<LI> Some of the links use <CODE>$TYCHO</CODE> to refer to local web pages. 
</MENU>

 <hr>
<H2>New work</H2>
<DT> Further integrations of <A HREF="$TYCHO/doc/index.html">Tycho</A>
into Ptolemy. 

<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/~eal">Edward A. Lee</A>,
 <A HREF="http://ptolemy.eecs.berkeley.edu/~johnr">John Reekie</A>, 
<A HREF="http://ptolemy.eecs.berkeley.edu/~kchang">Kevin Chang</A>,
<A
HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A>
and many others.

<MENU>
	<LI> The
	<A HREF="$TYCHO/java/doc/index.html">Java/Tycho
	 interface</A>, including a Process Networks Sieve of Eratosthenes
	 demo.

	<LI> Compilation and dynamic <A
HREF="$TYCHO/kernel/doc/usersGuides/LoaderHelp.html">loading</A>
of C modules at runtime.

	<LI> Improved <A
HREF="$TYCHO/kernel/doc/usersGuides/PreferencesHelp.html">preferences</A>
	manager.

	<LI> An interface that allows the user to jump to C,C++ and Java
	compiler errors.

	<LI> Ptolemy <A
HREF="$TYCHO/typt/editors/doc/usersGuides/RetargetHelp.html">Retargetting
Tool</A>

</MENU>
 <DL>
<DT> Finite State Machine (FSM) domain
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/~bilung">Bilung Lee</A> - 
<A HREF="$PTOLEMY/src/domains/fsm/demo/init.pal">
FSM Palette</A> -

<A HREF="fsm.html">Further documentation</A>

<DT> Synchronous/Reactive (SR) Domain
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/~sedwards">Stephen Edwards</A> -
<A HREF="$PTOLEMY/src/domains/sr/demo/init.pal">SR Palette</A> -
<A HREF="overall">Further documentation </A>

<DT> Code Generation for the TMS320C50 DSP Domain
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/~luisgm">Luis Gutierrez</A>,
<a href="http://www.ece.utexas.edu/~bevans">Brian L. Evans</a> (UT Austin)
<A HREF="$PTOLEMY/src/domains/c50/demo/init.pal">C50 Palette</A>

<DT> Type System Modifications
<DD> <a href="mailto:tgl@sss.pgh.pa.us">Tom Lane</a>(Structured
Software Systems),
<A HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A> -
<A HREF="typesys.html">Further documentation</A>

<DT> UltraSparc C Code Generation (PTARCH=sol2.5.cfront only, requires Sun VIS Software Development Kit)
<DD> <a href="http://www.ctr.columbia.edu/~bchen">William Chen</a>
(Columbia University),
<A HREF="http://ptolemy.eecs.berkeley.edu/~johnr">John Reekie</A> -
<A HREF="http://ptolemy.eecs.berkeley.edu/~williamc/vis/outline.html">Further documentation</A>

<DT> AcyLoopScheduler
<DD>  This scheduler does joint code/data minimization; it generates
single appearance schedules optimized for buffer memory usage.  Very
useful in code generation, especially in assembly language domains.
 <br>
<A HREF="http://ptolemy.eecs.berkeley.edu/~murthy">Praveen Murthy</A>


<DT> HTML documentation of stars.

<DD> <CODE>ptlang</CODE> has been modified to create HTML
documentation instead of troff documentation.  A new ptlang keyword named
<CODE>htmldoc</CODE> has been added to ptlang.

 <br>The <CODE>explanation</CODE> sections in the Ptolemy builtin
stars have been converted to <CODE>htmldoc</CODE> sections. 


 <br> For a simple example, see the <A
HREF="$PTOLEMY/src/domains/sdf/stars/SDFRamp.htm">SDFRamp</A> star
documentation.

 <br>The HTML star documentation is viewable outside Ptolemy and Tycho with
a standard HTML viewer.

 The HTML star documentation is also viewable as a hierarchical table
of contents with Tycho.  The documentation can be viewed as both a <A
HREF="$PTOLEMY/src/domains/starHTML.idx">textual table of
contents</A>, and as a <A HREF="$PTOLEMY/src/domains/starHTML.idx.fst">graphical forest</A>

<br><A HREF="http://ptolemy.eecs.berkeley.edu/~eal">Edward A. Lee</A>,
<A HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A>

</DL>


<H3>New Stars and Demos</H3>
<DL>
<DT> New Audio Infrastructure
<DD> New Stars that can use the linear16 audio capabilities of the UltraSparc.
 <BR><A HREF="http://ptolemy.eecs.berkeley.edu/~sunil">Sunil Bhave</A>,
<a href="http://www.ctr.columbia.edu/~bchen">William Chen</a>
(Columbia University).
 <br>

The stars below inherit from the <A
HREF="$PTOLEMY/src/domains/cgc/stars/CGCAudioBase.htm"><CODE>CGCAudioBase</CODE>
star</A>.  See the individual star documentation for a list of demos that use that star.

<MENU>
<LI> <A HREF="$PTOLEMY/src/domains/cgc/stars/CGCMonoIn.htm"><CODE>CGCMonoIn</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/stars/CGCMonoOutIn.htm"><CODE>CGCMonoOut</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/stars/CGCStereoIn.htm"><CODE>CGCStereoIn</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/stars/CGCStereoOut.htm"><CODE>CGCStereoOut</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/tcltk/stars/CGCTkMonoIn.htm"><CODE>CGCTkMonoIn</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/tcltk/stars/CGCTkMonoOut.htm"><CODE>CGCTkMonoOut</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/tcltk/stars/CGCTkStereoIn.htm"><CODE>CGCTkStereoIn</CODE> star</A>

<LI> <A HREF="$PTOLEMY/src/domains/cgc/tcltk/stars/CGCTkStereoOut.htm"><CODE>CGCTkStereoOut</CODE> star</A>

</MENU>
 <A HREF="http://ptolemy.eecs.berkeley.edu/~sunil/talk/talk.html">Further
documentation</A>



<DT> Sun Video Star
<DD> The SDF <A HREF="../../../src/domains/sdf/image/SDFSunVideo.htm"><CODE>SunVideo</CODE></A> star can be used to grab video data from a Sun Video camera.
<A HREF="http://ptolemy.eecs.berkeley.edu/~luisgm">Luis Gutierrez</A>


<DT> Neural Network Demonstrations
<DD> Demonstrations of logic functions using classical artificial neurons
     and McCulloch-Pitts neurons can be found in the
	<A HREF="../../../src/domains/sdf/demo/neuralNetworks.pal">SDF Neural Networks Palette</A>

     <A HREF="http://anchovy.ece.utexas.edu/~blu">Biao Lu</a>,
     <A HREF="http://www.ece.utexas.edu/~bevans">Brian L. Evans</a>
     (The University of Texas at Austin)

<DT> Discrete Event Domain <CODE>FlipFlop</CODE> stars
<DD>  <A HREF="http://ptolemy.eecs.berkeley.edu/~davisj">John Davis Jr.</A>

<DT> CGC control panel 
<DD> The CGC control panel is more configurable.
 <br><A HREF="http://ptolemy.eecs.berkeley.edu/~johnr">John Reekie</A>,
 <A HREF="http://ptolemy.eecs.berkeley.edu/~sunil">Sunil Bhave</A> -
<A HREF="$PTOLEMY/src/domains/cgc/tcltk/demo/tycho.pal">CGC Tycho Palette</A>

</DL>

<H3>Minor Infrastructure Changes</H3>
<DL>

<DT>Galaxy Recursion Tests
<DD> Compiling recursive galaxies are warned against.
 <BR> <a href="mailto:tgl@sss.pgh.pa.us">Tom Lane</a> 
(Structured Software Systems), 
<A HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A> -
<A HREF="ptrecursion.html">Further Documentation</A>

<DT> <CODE>ptcl</CODE> can handle HOF stars.
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A>

<DT> <CODE>ParticleVector</CODE> class
<DD> The <A
HREF="../../../src/kernel/ParticleVector.h"><CODE>ParticleVector</CODE></A>
class is new in Ptolemy 0.7.  The class allows Ptolemy to package
arbitrary collections of data objects and treat them as a unit.

<CODE>ParticleVector</CODE> can be used, for example, to constuct
discrete-event models of communication networks, where the packages
are packets.  The SDF <A
HREF="../../../src/domains/sdf/demo/PackUnpack"><CODE>PackUnpack</CODE></A>
demo shows a simple use of <CODE>ParticleVector</CODE>.

 <br><A HREF="http://ptolemy.eecs.berkeley.edu/~galicia">Ron Galicia </A> -
<A HREF="http://ptolemy.eecs.berkeley.edu/~gunturi">Ravi Gunturi </A>

<DT> Ptolemy0.7 uses <A HREF="http://www.tcltk.com">Itcl 2.2</A>,
	which runs under Tcl 7.6 and Tk4.2.
<DD> The Itcl installation will use shared libraries, where available.
	If you downloaded the <CODE>other.src</CODE> tar file, then the
	<A HREF="$PTOLEMY/src/tcltk/makefile"><CODE>$PTOLEMY/src/tcltk/makefile
</CODE></A> will contain the makefile rules necessary to build Itcl with
	shared libraries.

 <BR> <A HREF="http://ptolemy.eecs.berkeley.edu/~cxh">Christopher Hylands</A>


<DT> <CODE>Make-star</CODE> can create icons whose contents are html files.
<DD> <CODE>Make-star</CODE> has been modified so that icons can have html files as their contents.  
 <P> For example, to
create an icon whose contents are the file <CODE>~/pt/myfile.html</CODE>
<OL>
<LI> Move the cursor over a vem window and hit <CODE>*</CODE>

<LI> Type the following values into the <CODE>Make Star</CODE> window:
<MENU>
<LI> <CODE>Star name:</CODE> <CODE>myfile</CODE>

<LI> <CODE>Domain:</CODE> <CODE>NODOMAIN</CODE>

<LI> <CODE>Star src directory:</CODE> <CODE>~/pt</CODE>

<LI> <CODE>Pathnmame of Palette:</CODE> <CODE>./user.pal</CODE>

</MENU>

</OL>


</DL>


<H3>Backward compatiblity Issues</H3>

<DL>

<DT> Recompilation will be necessary.
<DD> As always, if you upgrade from 0.6 to 0.7, you will need to recompile
any user designed stars.

<DT> Type system changes
<DD> The type system has been changed.  Some Code Generation universes may
need explicit conversion stars to properly compile.


<DT> Certain HOF stars have been removed
<DD> The type system changes mean that certain Higher Order Function stars have been removed.  The stars that have been removed are:
<CODE>HOFDelayedMap</CODE>
<CODE>HOFSrc</CODE><I>xxx</I> and <CODE>HOFSrcGr</CODE><I>xxx</I>
(where <I>xxx</I> is a type, such as <CODE>Int</CODE>)
If you have universes that were using the old stars, then you can update the universes with <CODE>masters</CODE> or <CODE>ptfixtree</CODE>.

<DT> <CODE>htmldoc</CODE> is a new keyword that has been added to
<CODE>ptlang</CODE>.
<DD> <CODE>ptlang</CODE> no longer generates troff output and instead
	generates html.

<DT> Certain CGC DSP stars have been moved.
<DD> To support retargeting demonstrations and galaxies from SDF to CGC, 
	Brian Evans moved the CGC stars that implemented DSP functions from
	the <CODE>cgc/stars</CODE> directory to the <CODE>cgc/dsp/stars</CODE>
	directory and
	set symbolic links from <CODE>cgc/icons</CODE>
	to <CODE>cgc/dsp/icons</CODE>
	for
	those stars for backwards compatibility.
	Users should run masters on their own CGC demos in order
	for look-inside to work.
	 <BR>Affected stars: DTMFPostTest, Dirichlet, FFTCx, FIR, FIRFix,
	GAL, GGAL, Goertzel, GoertzelBase, GoertzelPower, IIR, LMS,
	LMSOscDet, RaisedCosine, Sinc, Window.

<DT> The <CODE>cgc/targets/main</CODE> directory has been split.
<DD> To separate the uniprocessor and multiprocessor CGC targets,
	Brian Evans split the CGC <CODE>targets/main</CODE>
	directory into <CODE>targets/uniproc</CODE>
	and <CODE>targets/multiproc</CODE>

<DT> Structure of directories under <CODE>PTOLEMY_SYSTEMS</CODE>
has been changed.
<DD> To support portability between operating systems, Brian Evans changed the
	destination directory in the Ptolemy targets and demonstrations to
	<code>$HOME/PTOLEMY_SYSTEMS/<em>domain</em></code>.
	For mixed-domain demos, the <em>domain</em> was set to MIXED;
	otherwise, the <em>domain</em> was set to SDF, CGC, etc.
	Note that <code>$HOME</code> is used instead of <code>~</code>
	because POSIX-compliant Unix operating systems always define
	the HOME environment variable but do not always support ~.
	Also, it is possible to define environment variables on Macs and PCs.

<DT> Certain audio stars have been removed.
<DD> Sunil Bhave removed the old PCMread/write and 
	SunSound stars from ptdesign. Instead you can use the new
	MonoIn/Out stars, which have been added to the cgc palettes.
	The TkSunSound star is also gone.
        In Ptolemy 0.7, the mu law conversion tables are in the 
	<CODE>libptdsp</CODE> library.  If you use
</DL>

<p>
<hr>
<address>
Last updated $Date$
Send comments to <a href="mailto:ptolemy@ptolemy.eecs.berkeley.edu">ptolemy@ptolemy.eecs.berkeley.edu</a>.
</address>
</body>
</html>
