<!-- $Id$ -->
<html>
<head>
<title>Ptolemy NT Bugs</title>
</head>
<body bgcolor=#faf0e6>
<H1>Ptolemy NT Bugs</H1>

<h2>Compilation bugs</h2>
<MENU>

<li> The Microsoft Visual C++ port (<CODE>PTARCH == nt4.vc</CODE>)
is unlikely to build and has not been tested.

<li> Compiling with Cygwin32 is slow.  This is because Cygwin32
adds a layer to file access and other operations.


<li> <CODE>make</CODE> failed with
<pre>
c:/tycho0.3.devel/mk/tycommon.mk:276: *** target pattern contains no `%'.
</pre>
<p>The problem here was that <CODE>ROOT</CODE> was set to
<CODE>c:/tycho0.3devel</CODE>.  The colon was being interpreted by
<CODE>make</CODE>, so setting <CODE>ROOT</CODE> to <CODE>/tycho0.3devel</CODE>
fixed the problem.
 <p>

<li> <CODE>make</CODE> failed with:
<pre>
'\\carson\cxh\pt\obj.nt4\pigiRpc' is an invalid current directory
path.  UNC paths are not supported.  Defaulting to Windows directory.
The handle could not be duplicated during a pipe operation.
</pre>
<p> The fix is to run <CODE>make --unix</CODE>, or do
<pre>
MAKE_MODE=unix
export MAKE_MODE
</pre>

<li> Some of the tests in
<a href="../../src/octtools/Packages/oct"><CODE>$PTOLEMY/src/octtools/Packages/oct</CODE></a> fail.


</MENU>


<h2>Problems Starting Ptolemy</h2>
<menu>

<li> <CODE>$PTOLEMY/bin/pigi</CODE> prints warning messages about
not being able to find <CODE>xrdb</CODE>.  This is because
<CODE>/bin/sh.exe</CODE> does not have a working <CODE>type</CODE>
command.  One workaround would be to copy <CODE>bash.exe</CODE>
to <CODE>/bin/sh.exe</CODE>, though this will result in slower compiles.

<li> Starting up <CODE>pigi</CODE> results in messages like:
<pre>
Error: Unable to load ptk startup file: : 
  can't find package tycho.kernel.basic: can't find
  package tycho.kernel.basic
    while executing
"package require tycho.kernel.basic"
    (file "C:\tycho0.3devel/kernel/Tycho.tcl" line 255)
    invoked from within
"source $path/kernel/Tycho.tcl"
</pre>
This message can occur if you have a standalone installation of 
Tycho installed.  The workaround is to unset TYCHO before starting pigi:
<pre>
unset TYCHO
pigi
</pre>

<li> If you see the following message, then you may need to 
upgrade to Cygwinb19.1.
<pre>
RPC Error: can not fdopen for write in application
RPC Error: cannot connect to the server
</pre>
</menu>

<h2>Problems Running Ptolemy</h2>
<MENU>


<li> If you have problems with <CODE>pxgraph</CODE>, see
the <a href="ptntinstall.html#pxgraph">Ptolemy NT Installation page</a>,
and <a href="../../../src/pxgraph/README.txt"><CODE>$PTOLEMY/src/pxgraph/README.txt</CODE></a>

<li> The SDF Butterfly demo gives a bogus graph

<li> The Matlab and Mathematica stars do not work.

<li> The SDF Gaussian demo fails with:
<pre>
Error: no interpreter to evaluate 'expr 1024/8'
</pre>
This message comes from <CODE>kernel/InvokeInterp.cc</CODE>:
<pre>
// send a string to an external interpreter for evaluation
const char*
InvokeInterp :: interpreter(const char* expression) {
    Error::error("no interpreter to evaluate '", expression, "'.");
    return NULL;
}
</pre>
My guess is that this has to do with the fact that there are multiple
definitions of this method in the kernel, pigilib and ptcl.
</MENU>

<HR>
<A HREF="index.html">Up to the Ptolemy under NT page</A> -
<A HREF="ptnthints.html">Back to Ptolemy NT Hints</A> -
<A HREF="ptntinstall.html">Forward to Ptolemy NT Installation</A>
<HR>
Copyright &#169 1997-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>cxh@eecs.berkeley.edu</author>
