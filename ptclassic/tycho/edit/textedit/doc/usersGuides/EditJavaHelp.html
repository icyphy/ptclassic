<!-- $Id$ -->
<html>
<head>
<Title>User's Guide to the Java Editor</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="Java editor">User's Guide to the Java Editor</a></h1>
This class provides a text editor specialized for editing Java source.
It is automatically invoked whenever you open any file with a
<A NAME=".java">".java" extension</A>.
Java is an object-oriented language developed by Sun.  Java is similar
to C++, but Java has a few new features, such as garbage collection. Java
also is missing a few features C++ has, such as multiple inheritance.
<!-- If you don't know what java is, then you have probably been in solitary
confinement :-) -->
 <P>
The <a name="EditJava class">EditJava class</a> is derived from the
<a href="EditCppHelp.html">EditCpp class</a>, and
therefore inherits all of its features, such as invoking <CODE>make</CODE>.
The EditJava class colors certain Java constructs, such as comments.
 <P>
For more Java resources, see the Tycho
<A HREF="../../../../java/doc/index.html">Java</A> page.
 <P>
<H2>Compiling and Running Java</H2>

The <CODE>Evaluate</CODE> menu choice under the <CODE>File</CODE> menu
will compile and optionally run the Java file currently being edited.
The <A
HREF="../../../../kernel/doc/codeDoc/CompileJava.html"><CODE>CompileJava</CODE></A>
class documentation discusses the programming details, we discuss the
user level details below.
<p>
The EditJava editor support two primary methods of evaluating Java files:
<MENU>
<li>If the <code>.java</code> file contains a <code>main()</code>, then we
call <CODE>java -cs</CODE> <i>ClassName</i>, which will check the
modification times of the <code>.java</code> and <code>.class</code>
file and compile if necessary. Then the class file is run and we are
done.

<li>If the <code>.java</code> file does not contain a
<code>main()</code>, then we call <code>javac</code> <i>ClassName</i>,
which will compile the file.

<p>After the compilation successfully completes, we check if there is a
<i>ClassName</i><code>.html</code> file present, then we run
<code>appletViewer</code> <i>ClassName.html</i>. It would be nice if we
checked to see if the <code>.java</code> file extends
<code>Applet</code>, but that is more work.
</MENU>
<P>The Tycho <CODE>classPath</CODE> preference is used to set the
<CODE>CLASSPATH</CODE> environment variable before the various Java tools
are run.
<H3>Evaluating a Java Application</H3>
<A
HREF="../../test/DrawTest.java"><CODE>$TYCHO/editors/textedit/test/DrawTest.java</CODE></A>
is a Java application that includes a <CODE>main()</CODE>.  If you edit
this file and then invoke <CODE>Evaluate</CODE> with either 
<MENU>
<LI> The <CODE>Evaluate</CODE> choice under the <CODE>File</CODE> menu.
<LI> By typing <CODE>C-xC-r</CODE>
</MENU>
then a 
<A
HREF="../../../../kernel/doc/codeDoc/Exec.html"><CODE>Exec</CODE></A>
widget will come up and evaluate and run the java file with
<CODE>java -cs -v</CODE>
<P> Note that evaluating a Java file will create a <CODE>.class</CODE>
file in the directory where the <CODE>.java</CODE> file resides.  If
you do not have write permission to <CODE>$TYCHO/editors/textedit/test</CODE>
then you could copy the <CODE>.java</CODE> files to a directory
where you have write permission.
<H3>Evaluating a Java Applet</H3>
<A
HREF="../../test/Blink.java"><CODE>$TYCHO/editors/textedit/test/Blink.java</CODE></A>
is a Java applet that does <B>not</B> include a <CODE>main()</CODE>. If
you edit this file and then invoke <CODE>Evaluate</CODE> as above, first
<CODE>javac</CODE> is run to compile the file, and then
<CODE>appletviewer</CODE> is run.
<p>
Note that the Exec windows that come up when you evaluate a Java file are
persistant between evaluations.  This allows you to modify the command line
once and reuse your command line during the next evaluation.

<H2>'Special' Menu choices</H2>
The <A NAME="Java Editor Body Template"><CODE>Body Template</CODE>
command</A> in the <CODE>Special</CODE>
menu places a body template at the current point in the buffer.
 <P>
The <A NAME="Java Editor File Template"><CODE>File Template</CODE>
command</A> in the <CODE>Special</CODE> menu copies the file <A
HREF="../../templates/JavaTemplate.java"><CODE>$TYCHO/editors/textedit/templates/JavaTemplate.java</CODE></A>
into the editor does some substitions described
<A HREF="#java file template substitution">below</A>.
 <P>
The <A NAME="Java Editor Generate doc"><CODE>Generate doc</CODE> command</A>
in the "Special" menu asks the user if they would like to save the buffer
and then runs the <CODE>javadoc</CODE> program to produce HTML documentation
for the current file.
 <P>
The <CODE>appletview</CODE> choice in the <CODE>Special</CODE> menu
brings up the <CODE>appletviewer</CODE> program and loads the file being
edited into <CODE>appletviewer</CODE>

<H2><A NAME="java file template substitution">Java file template
substitution</A></H2>
When the Java template file is substituted into a Java editor, certain
substitions occur.
<P>
The string <CODE>ClassName</CODE> in the template file is substituted
with a class name based on the name of the file.
For example, if the file is named <CODE>Elvis.java</CODE>, then
the class name <CODE>Elvis</CODE> will be substituted everywhere 
<CODE>ClassName</CODE> appears.
 <P>
The java <CODE>package</CODE> is updated accordingly if the file is located
in a directory below <CODE>$TYCHO/java</CODE>.  For example, if the pathname
to the file was <CODE>$TYCHO/java/devel/mystuff/Elvis.java</CODE>, then
the <CODE>package</CODE> line would look like:
<PRE>
package devel.mystuff;
</PRE>
If the file is not below <CODE>$TYCHO/java</CODE>, then the
<CODE>package</CODE> line is commented out.
 <P>
The <CODE>@author</CODE> java doc tag is updated to use the
<I>userName</I> preference which contains the full name of the user.
This preference can be updated by mousing on the Help button on the
upper right of most Tycho windows and then clicking on
<CODE>Preferences</CODE>. The <CODE>userName</CODE> preference is under the
<CODE>Miscellaneous</CODE> preferences.

<H2><A NAME="javadoc tags">Javadoc tags</A></H2>

For reference, we list the <CODE>javadoc</CODE> tags below:
<DL>
<DT> <CODE>@see <I>classname</I></CODE>
<DD> 

<DT> <CODE>@see <I>full-classname</I></CODE>
<DD> 

<DT> <CODE>@see <I>full-classname</I>#<I>method-name</I> </CODE><DT> 
<DD> 

<DT> <CODE>@version <I>text</I></CODE>
<DD> The <CODE>@version</CODE> tag may only be used before a class
definition.  Call <CODE>javadoc</CODE> with the <CODE>-version</CODE>
flag to generate an author listing in the html file.

<DT> <CODE>@author <I>text</I></CODE>
<DD> The <CODE>@author</CODE> tag may only be used before a class
definition.  Call <CODE>javadoc</CODE> with the <CODE>-author</CODE>
flag to generate an author listing in the html file.

<DT> <CODE>@param <I>parameter-name description</I></CODE>
<DD> May only be used before a method definition.

<DT> <CODE>@return <I>description</I></CODE>
<DD> May only be used before a method definition.

<DT> <CODE>@exception <I>full-classname description</I></CODE>
<DD> May only be used before a method definition.

</DL>

<p>
<a href="../../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>tycho@eecs.berkeley.edu</author>
</body>
</html>
