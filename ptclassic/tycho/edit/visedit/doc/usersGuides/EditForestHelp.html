<!-- $Id$ -->
<html>
<head>
<Title>User's Guide to the Forest Editor</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="forest editor">User's Guide to the Forest Editor</a></h1>
<p>
This class provides a visual editor specialized for editing
forests.
A forest is a data structure that includes any number of trees. A
<a name="tree">tree</a>
is a data structure with nodes that are either a root or have
exactly one parent, and that have any number of children.
It is invoked automatically when opening any file with the
<a name=".fst extension"><CODE>.fst</CODE> extension</a> 
in its name.
The forest editor is derived from the
<a href="GraphicsHelp.html">Graphics class</a>, and
therefore inherits all of its features.
<p>
Menu commands for adding new nodes, deleting nodes, and editing
the name or contents of the nodes are provided.
Here is an example of how to use the EditForest:
<tcl><pre>
    ::tycho::view EditForest -file &#92
         $TYCHO/editors/visedit/test/sample.fst
</pre></tcl>
<p>
Clicking the left mouse button on any node selects it.
Clicking away from any node deselects selected nodes.
The selected node may be deleted using the <CODE>Cut</CODE> command, which
also saves the node to the clipboard.
A node in the clipboard may be pasted using the <CODE>Paste</CODE> command.
If a node is selected when the <CODE>Paste</CODE> command is issued, then
the node in the clipboard is pasted as a child of the selected node.
Otherwise, it is pasted as a root node.
The <CODE>Copy</CODE> command saves a node to the clipboard without
deleting it.  However, this node can only be pasted in
another window, because every node is required to have
a unique name.
<p>
A selected node may be edited using the <CODE>Edit Node</CODE> menu choice
A new root may be added using the <CODE>New Root</CODE> menu choice.
A new child node may be added to a selected node using
the <CODE>New Child</CODE> menu choice.
<p>
The contents of a node is an arbitrary Tcl string.
However, if the data takes a certain form, then the display and behavior
of the editor can be controlled very precisely.  In particular, the
contents of the node can be a list, with items in the list being lists
lists of the form <CODE>{<i>keyword value</i>}</CODE>.  The following keywords
are currently understood:
<dl>
<dt><code>label</code><dd>The <i>value</i> field gives the label used to show
the node in the display.  If this is not present, then the node name
is used.
<dt><code>color</code><dd>The <i>value</i> field gives the color used to show
the node in the display.  If this is not present, then the node color is
black.  The color name is processed to make sure it is valid, and if not,
black is used.
<dt><code>font</code><dd>The <i>value</i> field gives the font used to show
the node in the display.  If this is not present, then the default
variable-spacing font is chosen.  The <i>value</i> can take any form
understood by the <code>getFont</code> method of the <code>FontManager</code> 
class.
<dt><code>link</code><dd>The <i>value</i> field gives a list with two elements,
a filename and a point within the file, in the standard Tycho hyperlink
format.  Double clicking on the node will activate the hyperlink.
The filename may be absolute or relative, and may begin
with an environment variable (such as <CODE>$TYCHO</CODE>), or a user directory
(~<i>username</i>).  If the filename is relative, then the reference
directory is that of the file of the top-level editor that contains this
<code>EditForest</code>.  The point may be a string identifying
a named anchor in an HTML file, or <CODE>{line <i>linenumber</i>}</CODE> or
<CODE>{range <i>start end</i>}</CODE> for text files, or any other destination
that is understood by the <code>seePoint</code> method of the
widget that will display the hyperlink.
<dt><code>html</code><dd>The <i>value</i> field gives HTML source code that
will be rendered and displayed in a message window in response to a
double click on the node.  If both this field and the <CODE>link</CODE>
field are given, then both will be activated by a double click.
</dl>

<p>
<a href="../../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>tycho@eecs.berkeley.edu</author>
</body>
</html>
