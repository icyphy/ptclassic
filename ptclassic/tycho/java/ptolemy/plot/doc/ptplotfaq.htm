<!-- $Id$ -->
<html>
<head>
<Title>Ptplot Frequently Asked Questions</Title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="ptplot FAQ">Ptplot Frequently Asked Questions</a></h1>
Below are some answers to frequently asked questions about ptplot.
This page contains links to documents about Ptplot internals and
infrastructure.
<H2>Contents</H2>
<MENU>
<LI> <A HREF="#ptplot faq: general questions"><B>1. General</B></A>
	<MENU>
	<LI> <A HREF="#ptplot description (short)"><B>1.1 What Is Ptplot?</B></A>

	<LI> <A HREF="#ptplot pronunciation"><B>1.2 How do I pronounce 'ptplot'?</B></A>

	<LI> <A HREF="#ptplot copyright"><B>1.3 What is the copyright?</B></A>
	<LI> <A HREF="#contact"><B>1.4 How do I contact the authors?</B></A>
	<LI> <A HREF="#mailing list"><B>1.5 Is there a mailing list?</B></A>
	<LI> <A HREF="#xgraph"><B>1.6 What is the relationship between xgraph and ptplot?</B></A>
	</MENU>

<LI> <A HREF="#ptplot faq: installation"><B>2. Installation questions</B></A>
	<MENU>
	<LI> <A HREF="#downloading Ptplot"><B>2.1 How do I download
	ptplot?</B></A>

	<LI> <A HREF="#platforms that Ptplot runs under"><B>2.2 What
	platforms does ptplot run under?</B></A>

	<LI> <A HREF="#ptplot installation, what do I need"><B>2.3 What do I need to Install Ptplot?</B></A>

	<LI> <A HREF="#ptplot troubleshooting overview"><B>2.4	Troubleshooting</B></A>
	<LI> <A HREF="#ptplot bug list"><B>2.5	Is there a bug list?</B></A>
	</MENU>

<LI> <A HREF="#ptplot faq: How do I . . ."><B>3. How do I  . . .</B></A>
	<MENU>
	<LI> <A HREF="#mydata"><B>3.1 Plot my own data?</B></A>
	<LI> <A HREF="#binarydata"><B>3.2 How do I plot binary data?</B></A>
	<LI> <A HREF="#endian"><B>3.3 How do I handle endian issues in binary data?</B></A>
	<LI> <A HREF="#appletprinting"><B>3.4 How do I print a plot from a Plot applet?</B></A>
	<LI> <A HREF="#twofiles"><B>3.5 How do I plot two datafiles in an applet?</B></A>
	
	<LI> <A HREF="#twoplots"><B>3.6 How do I have two separate plots?</B></A>
	<LI> <A HREF="#simpleapp"><B>3.7 How do I create a simple standalone Plot application?</B></A>
	</MENU>

</MENU>
<HR>

<H2><A NAME="ptplot faq: general questions"><B>1. General</B></A></H2>

<DL>
<DT> <A NAME="ptplot description (short)"><B>1.1 What Is Ptplot?</B></A>
<DD> Ptplot is a Java 2-D graphing component.  Ptplot can be used
in applets and applications.  The
<A HREF="main.htm">top-level Ptplot page</A> describes Ptplot
further.

<DT> <A NAME="ptplot pronunciation"><B>1.2 How do I pronounce 'ptplot'?</B></A>
<DD> pee-tee-plot.  Unlike with Ptolemy, the initial p in the pt is pronounced.

<DT> <A NAME="ptplot copyright"><B>1.3 What is the copyright?</B></A>
<DD> Ptplot is released under the fairly liberal UC Berkeley copyright.
Most files have the copyright at the top, for example, see
<A HREF="../Plot.java"><CODE>Plot.java</CODE></A>

<DT> <A NAME="contact"><B>1.4 How do I contact the authors?</B></A>
<DD> The primary author of Ptplot is Professor Edward A. Lee.
Christopher Hylands is a coauthor.  William Wu and Lukito Muliadi
contributed code.
You can contact the authors via
<A HREF="mailto:ptplot@ptolemy.eecs.berkeley.edu"><CODE>ptplot@ptolemy.eecs.berkeley.edu</CODE></A>

<DT> <A NAME="mailing list"><B>1.5 Is there a mailing list?</B></A>
<DD> We maintain the <CODE>ptplot-announce</CODE> alias for announcing
new ptplot releases.  This alias is for Ptplot announcements only.  Thus,
you cannot post to this group.  To subscribe to this group,
send email to <A HREF="mailto:ptplot-announce-request@ptolemy.eecs.berkeley.edu"><CODE>ptplot-announce-request@ptolemy.eecs.berkeley.edu</CODE></A>
with the word <CODE>subscribe</CODE> in the body, not the header.

<DT> <A NAME="xgraph"><B>1.6 What is the relationship between xgraph and ptplot?</B></A>
<DD> The introduction contains a <A HREF="main.htm#xgraph">description</A> of the relationship between <CODE>xgraph</CODE> and ptplot.
 <br> Note that you can download sources and binaries for <CODE>pxgraph</CODE>, an extension to <CODE>xgraph</CODE> from
<a href="http://ptolemy.eecs.berkeley.edu/other/pxgraph.htm"><CODE>http://ptolemy.eecs.berkeley.edu/other/pxgraph.htm</CODE></a>

 <br> Note that if you type a <CODE>x</CODE> while the mouse is
over the Java <CODE>pxgraph</CODE> application window, and
the X11 version of <CODE>pxgraph</CODE> is installed
as <CODE>pxgraph.x11</CODE>, then <CODE>pxgraph.x11</CODE> will
be started up with the same command line arguments that you called
the Java <CODE>pxgraph</CODE> with.  This is one way of using
the Java version most of the time, but still having access to the
MIF output facilities in the X11 version.

</DL>
 <HR>

<H2><A NAME="ptplot faq: installation"><B>2. Installation questions</B></A></H2>
<DL>

<DT> <A NAME="downloading Ptplot"><B>2.1 How do I download Ptplot?</B></A>
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/java/ptplot/index.htm" target="_top"><CODE>http://ptolemy.eecs.berkeley.edu/java/ptplot.htm</CODE></A>
has links to the tar and zip files.

<DT> <A NAME="platforms that Ptplot runs under"><B>2.2 What platforms does Ptplot run under?</B></A>
<DD> Ptplot was develop under JDK1.2.1.  Most of the simple applets
should work under browsers that support JDK1.1 (Netscape 4.61 and IE 5).
 <p>The <a href="http://www.javasoft.com/products/plugin/" target="_top">Java Plug-in</a>
allows JDK1.1 browsers under Windows to run JDK1.2 applets.
As of the 3.1 release of Ptplot, none of the plugins we are shipping
require the JDK1.2 Plug-in

 <p>Older browsers may not have support for JDK1.1, you may need to
upgrade your browser.

 <p>Note that Ptplot3.1 and later wll not compile with JDK1.1, the
Plot class uses the <CODE>clear()</CODE> method from the Vector
class, which is not present in JDK1.1.


Ptplot 2.0 supported JDK1.1, and ptplot1.3 and earlier
supported JDK1.0.2, you can find those releases in
<a href="http://ptolemy.eecs.berkeley.edu/java/old"><CODE>http://ptolemy.eecs.berkeley.edu/java/old</CODE></a>.

<DT> <A NAME="ptplot installation, what do I need"><B>2.3 What do I need to Install Ptplot?</B></A>
<DD>
To use Ptplot, you will need the Java Development kit (JDK), which
can be downloaded from
<A HREF="http://www.javasoft.com" target="_top"><CODE>http://www.javasoft.com</CODE></A>.
 <p>See the <a href="install.htm">Installing Ptplot</a> page 
for more information
 <P>You can also run Ptplot as an applet in your local browser.


<DT> <A NAME="ptplot troubleshooting overview"><B>2.4 Troubleshooting</B></A>
<DD> The <A HREF="troubleshooting.htm">Ptplot Troubleshooting</A> guide
has a few hints.

 <P>You might find useful information on the Ptplot homepage at
<A HREF="http://ptolemy.eecs.berkeley.edu/java/ptplot" target="_top"><CODE>http://ptolemy.eecs.berkeley.edu/java/ptplot</CODE></A>.

 <P>If you are really stumped, you can send mail to <A
HREF="mailto:ptplot@ptolemy.eecs.berkeley.edu"><CODE>ptplot@ptolemy.eecs.berkeley.edu</CODE></A>.
Your mail should include:
<OL>
<LI> What version of Ptplot you are running.
<LI> What platform you are running under (Solaris, Windows etc.)
<LI> Exactly how to reproduce the bug.
</OL>
<DT> <A NAME="ptplot bug list"><B>2.5 Is there a bug list?</B></A>
<DD>
<MENU>
 <LI>Most of the known bugs and limitations are listed in the
<A HREF="../../../doc/codeDoc/ptolemy/plot/Plot.html#ptplot limitations">javadoc Plot documentation</A>
 <LI>The Todo list is at the top of the
<A HREF="../Plot.java"><CODE>Plot.java</CODE></A> file.
</MENU>

</DL>

 <HR>
<H2><A NAME="ptplot faq: How do I  . . .">3. How do I  . . .</A>
</H2>

<DL>
<DT> <A NAME="mydata"><B>3.1 How do I plot my own data?</B></A>
<DD>
There are several ways to plot data using ptplot.  You can read
data from a file on the local filesystem, or from a file
on the internet via a URL.  You can sketch your own data
and then save the file.  Or you can create Java applications
or applets that directly call methods of the Plot classes to
create the plot.
<P>
The preferred
file format is called PlotML, and is described fully in the
<a href="plot.pdf">Plot chapter</a>.  It is a textual format
in XML, the popular <i>extensible markup language</i> used widely
on the internet.  An older (and more compact) textual format
is also supported.  Binary data files are also supported, see
<A HREF="#binarydata"><B>3.2 How do I plot binary data?</B></A>
All three formats are demonstrated in the
<a href="../demo/toc.htm" target="contents">demos</a>.
<P>
If you write Java code, the key method for adding data points
is the addPoint() method of the Plot class.
The <A HREF="../demo/FourierSeries.htm">Fourier Series demo</A>
uses this method.
 <P>
You can also plot data dynamically as shown in the
<a href="../demo/Live.htm">live plot</a> demo.

<DT> <A NAME="binarydata"><B>3.2 How do I plot binary data?</B></A>
<DD>Ptplot can plot binary datafiles in an older file format
originally created by Joe Buck for the X11 <CODE>pxgraph</CODE> program.
For details on the format see the 
<A HREF="../../../doc/codeDoc/ptolemy/plot/compat/PxgraphParser.html#-binary flag">javadoc Pxgraph documentation</A> for the PxgraphParser class.

<p>The Java program below shows how to generate a raw binary
data file with two data points in it. 
<pre>
cxh@tycho 25% cat BinaryData.java
import java.io.*;

class BinaryData {
    public static void main(String args[]) {
        try {
            FileOutputStream fileOutput = new FileOutputStream("binary.plt");
            DataOutputStream dataOutput = new DataOutputStream(fileOutput);
            // First pair
            dataOutput.writeFloat(1);
            dataOutput.writeFloat(1);
            // Second pair
            dataOutput.writeFloat(2);
            dataOutput.writeFloat(3);
            dataOutput.close();
            fileOutput.close();
        } catch (IOException e) {
        System.out.println("Failed to open a file: " + e);
        }
    }
}
cxh@tycho 26% javac BinaryData.java
cxh@tycho 27% setenv CLASSPATH .
cxh@tycho 28% java BinaryData
cxh@tycho 29% od -c binary.plt
0000000   ? 200  \0  \0   ? 200  \0  \0   @  \0  \0  \0   @   @  \0  \0
0000020
cxh@tycho 30% pxgraph -binary binary.plt

</pre>

<DT> <A NAME="endian"><B>3.3 How do I handle endian issues in binary data?</B></A>
<DD> Traditional C/C++ programs encode binary data in different formats
on different platforms.
<menu>
<li> Big-endian - SPARCs and the network in general use this format.
<li> Little-endian - Intel x86 chips use this format.
</menu>
Problems can occur when you try to read a binary format file on a
machine other than the machine it was created on. Java always
reads binary data in big-endian format, so the <CODE>pxgraph</CODE>
script and the <CODE>pxgraphargs</CODE> applet parameter take the
following arguments:
<menu>
<li> <CODE>-binary</CODE> - use the endian format of the machine
that the Java virtual machine is running on.

<li> <CODE>-bigendian</CODE> - the file is in big-endian format,
convert it if the Java virtual machine is running on a little-endian machine.

<li> <CODE>-littleendian</CODE> - the file is in little-endian format,
convert it if the Java virtual machine is running on a big-endian machine.

</menu>

See the <a href="../demo/Endian.htm">Endian Examples</a> for
example that use the above flags.

The
<a href="http://www.afu.com/javafaq.htm" target="_top">Java Programmer's FAQ</a>
has more information about endian issues.

<DT>  <A NAME="appletprinting"><B>3.3 How do I print a plot from a Plot applet?</B></A>
<DD> Unfortunately, most browsers cannot print applets.  There are
work arounds, but in general, it is hard, and involves security
violations.

<A HREF="http://www.best.com/~pvdl/javafaq.htm" target="_top"><CODE>http://www.best.com/~pvdl/javafaq.htm</CODE></A> says:

<BLOCKQUOTE>
4.1.11 How do I print a page with an applet?

 <P>A. Browsers are starting to introduce support for this. Until they all
have it, your best bet is to print a screendump.  Using the browser to
print the page may leave a blank where the applet is.  Putting print
support in the applet will print the applet only, not the rest of the
browser page.
</BLOCKQUOTE>

Sun's
<A HREF="http://java.sun.com/products/hotjava/index.htm" target="_top">HotJava</A>
browser can be used to print pages that contain applets.  However, it
seems like the Windows version sometimes crashes when printing.  The Solaris
version of HotJava1.1 works fine.

 <P>For more information about printing, join the JavaSoft Developer
Connection (it is free) and search for printing.

 <P>Note that printing is supported from standalone applications (ptplot,
pxgraph, and histogram).  These applications can also export encapsulated
postscript files.

 <p>To generate a GIF image, you might try first generating PostScript
by printing to a file or exporting EPS,
and then using <CODE>pstogif</CODE>, which is part of Ghostview, available
at
<a href="http://www.cs.wisc.edu/~ghost" target="_top"><CODE>http://www.cs.wisc.edu/~ghost/</CODE></a>.  Below is an example:
<pre>
pxgraph -print -o /tmp/data.ps demo/data.plt
pstogif /tmp/data.ps
</pre>

<DT>  <A NAME="twofiles"><B>3.5 How do I plot two datafiles in an applet? </B></A>
<DD>
In applications (ptplot, pxgraph, and histogram), this is easy:
just specify the two files on the command line.
In applets, only PxgraphApplet supports this.
The <CODE>pxgraphargs</CODE> applet parameter can be used to pass
more than one file to the plotter.  The <CODE>pxgraphargs</CODE> parameter
can also pass <CODE>pxgraph</CODE> command line arguments.
For example, the HTML below would plot two datafiles at once.  The title
of the plot would be <CODE>Two datafiles</CODE>.
<PRE>
&lt;APPLET name="twofiles" CODE="ptolemy.plot.PlotApplet" Height=400 Width=400
    codebase="../../.."
    archive="ptolemy/plot/plotapplet.jar"
    alt="If you had a java-enabled browser, you would see an applet here."
&gt;
&lt;param name="pxgraphargs" value="-t 'Two datafiles' file1.plt file2.plt"&gt;
   &lt;hr&gt;If your browser recognized the applet tag,
    you would see an applet here.&lt;hr&gt;
&lt;/APPLET&gt;
</PRE>

An alternative is to use ptplot to merge the two files into one plot,
then save as a single file.

<dt>  <A NAME="twoplots"><B>3.6 How do I have two separate plots?</B></A>
<dd> See <a href="../demo/LogAxes.htm"><CODE>LogAxes.htm</CODE></a>
for an applet that has two separate plots side by side.
<p>
See
<a href="../demo/TwoPlotExample.java"><CODE>TwoPlotExample.java</CODE></a>
for a standalone application that has two separate plots side by side.

<dt>  <A NAME="simpleapp"><B>3.7 How do I create a simple standalone Plot application?</B></A>
<dd> 
<A HREF="../PlotApplication.java"><CODE>PlotApplication.java</CODE></A>
is a standalone application with a menu interface.  It has derived
classes <A HREF="../plotml/PlotMLApplication.java">PlotMLApplication</a>,
which adds the ability to read PlotML files, and
<A HREF="../plotml/EditablePlotMLApplication.java">EditablePlotMLApplication</a>, which adds the ability to edit the data being plotted.
EditablePlotMLApplication
is started by the <a href="../ptplot"><CODE>ptplot</CODE></a>
startup script.

 <p><a href="../demo/TwoPlotExample.java"><CODE>ptolemy/plot/demo/TwoPlotExample.java</CODE></a>
is a simple standalone Java application that uses the Plot class.
The comment towards the top of the file contains instructions about
how to compile it.
</ol>
</DL>

<p><font size="2" color="#cc0000">Last Updated: $Date$</font>
</body>
</html>
