# Manage colors for Tycho.
#
# @Author: Edward A. Lee
#
# @Version: $Id$
#
# @Copyright (c) 1995-%Q% The Regents of the University of California.
# All rights reserved.
# 
# Permission is hereby granted, without written agreement and without
# license or royalty fees, to use, copy, modify, and distribute this
# software and its documentation for any purpose, provided that the
# above copyright notice and the following two paragraphs appear in all
# copies of this software.
# 
# IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY
# FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES
# ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
# THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF
# SUCH DAMAGE.
# 
# THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
# INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
# PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE UNIVERSITY OF
# CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES,
# ENHANCEMENTS, OR MODIFICATIONS.
# 
# 						PT_COPYRIGHT_VERSION_2
# 						COPYRIGHTENDKEY
###########################################################################

##########################################################################
#### color
# Look up a color name.  If it exists, return
# the rgb value of the color.  If it does not exist, look up the value
# of the second argument, which should normally be "black" or "white".
# All names are converted to lower case before looking them up.
# If the global variable tyMonochrome is set, then use the second
# argument (if it is present).
#
# This procedure
# is simply an interface to the class proc ::tycho::FontManager::getColor,
# and is provided for convenience.
#
proc ::tycho::color {color {alternate {}}} {
    eval ::tycho::ColorManager::getColor $color $alternate
}

###########################################################################
#### updateTkPalette
#
# Update the Tk color palette from values obtained from the "tkpalette"
# group of tycho preferences.
#
proc ::tycho::updateTkPalette {args} {
    set arglist {}
    foreach pref {
	activeBackground
	activeForeground
	background
	disabledForeground
	foreground 
	highlightBackground
	highlightColor
	insertBackground
	selectColor
	selectBackground
	selectForeground
	troughColor
    } {
	set color [::tycho::preference get tkpalette $pref]
	if { $color != "" } {
	    lappend arglist $pref $color
	}
    }
    eval tk_setPalette $arglist
}

###########################################################################
#### subscribeTkPalette
#
# Turn on subscription of the Tk palette to the Tycho preferences.
# Change made to the "tkpalette" preference group will update the
# palette.
#
proc ::tycho::subscribeTkPalette {} {
    foreach name  {
	activeBackground
	activeForeground
	background
	disabledForeground
	foreground 
	highlightBackground
	highlightColor
	insertBackground
	selectColor
	selectBackground
	selectForeground
	troughColor
    } {
	::tycho::preference subscribe tkpalette "tkpalette" $name \
		::tycho::updateTkPalette
    }
}

###########################################################################
#### unsubscribeTkPalette
#
# Turn off subscription of the Tk palette to the Tycho preferences.
# Change made to the "tkpalette" preference group will no longer
# affect the palette.
#
proc ::tycho::unsubscribeTkPalette {} {
    foreach name  {
	activeBackground
	activeForeground
	background
	disabledForeground
	foreground 
	highlightBackground
	highlightColor
	insertBackground
	selectColor
	selectBackground
	selectForeground
	troughColor
    } {
	::tycho::preference unsubscribe tkpalette "tkpalette" $name
    }
}

###########################################################################
#### resetTkPalette
#
# A utility procedure to set the Tk palette to either the old
# bisque color-scheme or the grey color scheme. To make this
# run at a reasonable speed, it disables the color subscriptions
# first, resets the palette, change the preferences, and then
# reenables the subscription.
#
proc ::tycho::resetTkPalette {{style grey}} {
    ::tycho::unsubscribeTkPalette

    if { $style == "bisque" } {
	# For the record, here is what the binary values are.
	# They're slightly different, but close enough.
	# activeBackground    #e6ceb1 
	# activeForeground    black 
	# background          #ffe4c4 
	# disabledForeground  #b0b0b0 
	# foreground          black 
	# highlightBackground #ffe4c4 
	# highlightColor      black 
	# insertBackground    black 
	# selectColor         #b03060 
	# selectBackground    #e6ceb1 
	# selectForeground    black 
	# troughColor         #cdb79e
	foreach {name color} {
	    activeBackground    bisque2
	    activeForeground    black
	    background          bisque1
	    disabledForeground  grey69
	    foreground          black
	    highlightBackground bisque1
	    highlightColor      black
	    insertBackground    black 
	    selectColor         maroon
	    selectBackground    bisque2
	    selectForeground    black
	    troughColor         bisque3
	} {
	    ::tycho::preference assign tkpalette $name $color
	}
    } else {
	foreach {name color} {
	    activeBackground    grey92
	    activeForeground    black
	    background          grey85
	    disabledForeground  grey64
	    foreground          black
	    highlightBackground grey85
	    highlightColor      black
	    insertBackground    black 
	    selectColor         maroon
	    selectBackground    grey76
	    selectForeground    black
	    troughColor         grey76
	} {
	    ::tycho::preference assign tkpalette $name $color
	}
    }
    ::tycho::updateTkPalette
    ::tycho::subscribeTkPalette
}	    

#########################################################################
#### ColorManager
# Manage color selection. This is a "non-instantiable" class.
#
# FIXME: Add more information.
#
class ::tycho::ColorManager {
    inherit ::tycho::Uninstantiable

    constructor {args} {}
    destructor {}

    ##########################################################################
    ####                        public procedures                         ####

    # Look up a color name
    proc getColor {name {alternate {}}}

    # Get a list of available colors matching an optional pattern
    proc colorList {{pattern *}}

    ##########################################################################
    ####                      private common variables                    ####

    # The array of colors and their RGB values
    private common colorlist

    set colorlist(snow) #fffafa
    set colorlist(ghostwhite) #f8f8ff
    set colorlist(whitesmoke) #f5f5f5
    set colorlist(gainsboro) #dcdcdc
    set colorlist(floralwhite) #fffaf0
    set colorlist(oldlace) #fdf5e6
    set colorlist(linen) #faf0e6
    set colorlist(antiquewhite) #faebd7
    set colorlist(papayawhip) #ffefd5
    set colorlist(blanchedalmond) #ffebcd
    set colorlist(bisque) #ffe4c4
    set colorlist(peachpuff) #ffdab9
    set colorlist(navajowhite) #ffdead
    set colorlist(moccasin) #ffe4b5
    set colorlist(cornsilk) #fff8dc
    set colorlist(ivory) #fffff0
    set colorlist(lemonchiffon) #fffacd
    set colorlist(seashell) #fff5ee
    set colorlist(honeydew) #f0fff0
    set colorlist(mintcream) #f5fffa
    set colorlist(azure) #f0ffff
    set colorlist(aliceblue) #f0f8ff
    set colorlist(lavender) #e6e6fa
    set colorlist(lavenderblush) #fff0f5
    set colorlist(mistyrose) #ffe4e1
    set colorlist(white) #ffffff
    set colorlist(black) #000000
    set colorlist(darkslategray) #2f4f4f
    set colorlist(dimgray) #696969
    set colorlist(slategray) #708090
    set colorlist(lightslategray) #778899
    set colorlist(gray) #bebebe
    set colorlist(grey) #bebebe
    set colorlist(lightgrey) #d3d3d3
    set colorlist(lightgray) #d3d3d3
    set colorlist(midnightblue) #191970
    set colorlist(navy) #000080
    set colorlist(navyblue) #000080
    set colorlist(cornflowerblue) #6495ed
    set colorlist(darkslateblue) #483d8b
    set colorlist(slateblue) #6a5acd
    set colorlist(mediumslateblue) #7b68ee
    set colorlist(lightslateblue) #8470ff
    set colorlist(mediumblue) #0000cd
    set colorlist(royalblue) #4169e1
    set colorlist(blue) #0000ff
    set colorlist(dodgerblue) #1e90ff
    set colorlist(deepskyblue) #00bfff
    set colorlist(skyblue) #87ceeb
    set colorlist(lightskyblue) #87cefa
    set colorlist(steelblue) #4682b4
    set colorlist(lightsteelblue) #b0c4de
    set colorlist(lightblue) #add8e6
    set colorlist(powderblue) #b0e0e6
    set colorlist(paleturquoise) #afeeee
    set colorlist(darkturquoise) #00ced1
    set colorlist(mediumturquoise) #48d1cc
    set colorlist(turquoise) #40e0d0
    set colorlist(cyan) #00ffff
    set colorlist(lightcyan) #e0ffff
    set colorlist(cadetblue) #5f9ea0
    set colorlist(mediumaquamarine) #66cdaa
    set colorlist(aquamarine) #7fffd4
    set colorlist(darkgreen) #006400
    set colorlist(darkolivegreen) #556b2f
    set colorlist(darkseagreen) #8fbc8f
    set colorlist(seagreen) #2e8b57
    set colorlist(mediumseagreen) #3cb371
    set colorlist(lightseagreen) #20b2aa
    set colorlist(palegreen) #98fb98
    set colorlist(springgreen) #00ff7f
    set colorlist(lawngreen) #7cfc00
    set colorlist(green) #00ff00
    set colorlist(chartreuse) #7fff00
    set colorlist(mediumspringgreen) #00fa9a
    set colorlist(greenyellow) #adff2f
    set colorlist(limegreen) #32cd32
    set colorlist(yellowgreen) #9acd32
    set colorlist(forestgreen) #228b22
    set colorlist(olivedrab) #6b8e23
    set colorlist(darkkhaki) #bdb76b
    set colorlist(khaki) #f0e68c
    set colorlist(palegoldenrod) #eee8aa
    set colorlist(lightgoldenrodyellow) #fafad2
    set colorlist(lightyellow) #ffffe0
    set colorlist(yellow) #ffff00
    set colorlist(gold) #ffd700
    set colorlist(lightgoldenrod) #eedd82
    set colorlist(goldenrod) #daa520
    set colorlist(darkgoldenrod) #b8860b
    set colorlist(rosybrown) #bc8f8f
    set colorlist(indianred) #cd5c5c
    set colorlist(saddlebrown) #8b4513
    set colorlist(sienna) #a0522d
    set colorlist(peru) #cd853f
    set colorlist(burlywood) #deb887
    set colorlist(beige) #f5f5dc
    set colorlist(wheat) #f5deb3
    set colorlist(sandybrown) #f4a460
    set colorlist(tan) #d2b48c
    set colorlist(chocolate) #d2691e
    set colorlist(firebrick) #b22222
    set colorlist(brown) #a52a2a
    set colorlist(darksalmon) #e9967a
    set colorlist(salmon) #fa8072
    set colorlist(lightsalmon) #ffa07a
    set colorlist(orange) #ffa500
    set colorlist(darkorange) #ff8c00
    set colorlist(coral) #ff7f50
    set colorlist(lightcoral) #f08080
    set colorlist(tomato) #ff6347
    set colorlist(orangered) #ff4500
    set colorlist(red) #ff0000
    set colorlist(hotpink) #ff69b4
    set colorlist(deeppink) #ff1493
    set colorlist(pink) #ffc0cb
    set colorlist(lightpink) #ffb6c1
    set colorlist(palevioletred) #db7093
    set colorlist(maroon) #b03060
    set colorlist(mediumvioletred) #c71585
    set colorlist(violetred) #d02090
    set colorlist(magenta) #ff00ff
    set colorlist(violet) #ee82ee
    set colorlist(plum) #dda0dd
    set colorlist(orchid) #da70d6
    set colorlist(mediumorchid) #ba55d3
    set colorlist(darkorchid) #9932cc
    set colorlist(darkviolet) #9400d3
    set colorlist(blueviolet) #8a2be2
    set colorlist(purple) #a020f0
    set colorlist(mediumpurple) #9370db
    set colorlist(thistle) #d8bfd8
    set colorlist(snow1) #fffafa
    set colorlist(snow2) #eee9e9
    set colorlist(snow3) #cdc9c9
    set colorlist(snow4) #8b8989
    set colorlist(seashell1) #fff5ee
    set colorlist(seashell2) #eee5de
    set colorlist(seashell3) #cdc5bf
    set colorlist(seashell4) #8b8682
    set colorlist(antiquewhite1) #ffefdb
    set colorlist(antiquewhite2) #eedfcc
    set colorlist(antiquewhite3) #cdc0b0
    set colorlist(antiquewhite4) #8b8378
    set colorlist(bisque1) #ffe4c4
    set colorlist(bisque2) #eed5b7
    set colorlist(bisque3) #cdb79e
    set colorlist(bisque4) #8b7d6b
    set colorlist(peachpuff1) #ffdab9
    set colorlist(peachpuff2) #eecbad
    set colorlist(peachpuff3) #cdaf95
    set colorlist(peachpuff4) #8b7765
    set colorlist(navajowhite1) #ffdead
    set colorlist(navajowhite2) #eecfa1
    set colorlist(navajowhite3) #cdb38b
    set colorlist(navajowhite4) #8b795e
    set colorlist(lemonchiffon1) #fffacd
    set colorlist(lemonchiffon2) #eee9bf
    set colorlist(lemonchiffon3) #cdc9a5
    set colorlist(lemonchiffon4) #8b8970
    set colorlist(cornsilk1) #fff8dc
    set colorlist(cornsilk2) #eee8cd
    set colorlist(cornsilk3) #cdc8b1
    set colorlist(cornsilk4) #8b8878
    set colorlist(ivory1) #fffff0
    set colorlist(ivory2) #eeeee0
    set colorlist(ivory3) #cdcdc1
    set colorlist(ivory4) #8b8b83
    set colorlist(honeydew1) #f0fff0
    set colorlist(honeydew2) #e0eee0
    set colorlist(honeydew3) #c1cdc1
    set colorlist(honeydew4) #838b83
    set colorlist(lavenderblush1) #fff0f5
    set colorlist(lavenderblush2) #eee0e5
    set colorlist(lavenderblush3) #cdc1c5
    set colorlist(lavenderblush4) #8b8386
    set colorlist(mistyrose1) #ffe4e1
    set colorlist(mistyrose2) #eed5d2
    set colorlist(mistyrose3) #cdb7b5
    set colorlist(mistyrose4) #8b7d7b
    set colorlist(azure1) #f0ffff
    set colorlist(azure2) #e0eeee
    set colorlist(azure3) #c1cdcd
    set colorlist(azure4) #838b8b
    set colorlist(slateblue1) #836fff
    set colorlist(slateblue2) #7a67ee
    set colorlist(slateblue3) #6959cd
    set colorlist(slateblue4) #473c8b
    set colorlist(royalblue1) #4876ff
    set colorlist(royalblue2) #436eee
    set colorlist(royalblue3) #3a5fcd
    set colorlist(royalblue4) #27408b
    set colorlist(blue1) #0000ff
    set colorlist(blue2) #0000ee
    set colorlist(blue3) #0000cd
    set colorlist(blue4) #00008b
    set colorlist(dodgerblue1) #1e90ff
    set colorlist(dodgerblue2) #1c86ee
    set colorlist(dodgerblue3) #1874cd
    set colorlist(dodgerblue4) #104e8b
    set colorlist(steelblue1) #63b8ff
    set colorlist(steelblue2) #5cacee
    set colorlist(steelblue3) #4f94cd
    set colorlist(steelblue4) #36648b
    set colorlist(deepskyblue1) #00bfff
    set colorlist(deepskyblue2) #00b2ee
    set colorlist(deepskyblue3) #009acd
    set colorlist(deepskyblue4) #00688b
    set colorlist(skyblue1) #87ceff
    set colorlist(skyblue2) #7ec0ee
    set colorlist(skyblue3) #6ca6cd
    set colorlist(skyblue4) #4a708b
    set colorlist(lightskyblue1) #b0e2ff
    set colorlist(lightskyblue2) #a4d3ee
    set colorlist(lightskyblue3) #8db6cd
    set colorlist(lightskyblue4) #607b8b
    set colorlist(slategray1) #c6e2ff
    set colorlist(slategray2) #b9d3ee
    set colorlist(slategray3) #9fb6cd
    set colorlist(slategray4) #6c7b8b
    set colorlist(lightsteelblue1) #cae1ff
    set colorlist(lightsteelblue2) #bcd2ee
    set colorlist(lightsteelblue3) #a2b5cd
    set colorlist(lightsteelblue4) #6e7b8b
    set colorlist(lightblue1) #bfefff
    set colorlist(lightblue2) #b2dfee
    set colorlist(lightblue3) #9ac0cd
    set colorlist(lightblue4) #68838b
    set colorlist(lightcyan1) #e0ffff
    set colorlist(lightcyan2) #d1eeee
    set colorlist(lightcyan3) #b4cdcd
    set colorlist(lightcyan4) #7a8b8b
    set colorlist(paleturquoise1) #bbffff
    set colorlist(paleturquoise2) #aeeeee
    set colorlist(paleturquoise3) #96cdcd
    set colorlist(paleturquoise4) #668b8b
    set colorlist(cadetblue1) #98f5ff
    set colorlist(cadetblue2) #8ee5ee
    set colorlist(cadetblue3) #7ac5cd
    set colorlist(cadetblue4) #53868b
    set colorlist(turquoise1) #00f5ff
    set colorlist(turquoise2) #00e5ee
    set colorlist(turquoise3) #00c5cd
    set colorlist(turquoise4) #00868b
    set colorlist(cyan1) #00ffff
    set colorlist(cyan2) #00eeee
    set colorlist(cyan3) #00cdcd
    set colorlist(cyan4) #008b8b
    set colorlist(darkslategray1) #97ffff
    set colorlist(darkslategray2) #8deeee
    set colorlist(darkslategray3) #79cdcd
    set colorlist(darkslategray4) #528b8b
    set colorlist(aquamarine1) #7fffd4
    set colorlist(aquamarine2) #76eec6
    set colorlist(aquamarine3) #66cdaa
    set colorlist(aquamarine4) #458b74
    set colorlist(darkseagreen1) #c1ffc1
    set colorlist(darkseagreen2) #b4eeb4
    set colorlist(darkseagreen3) #9bcd9b
    set colorlist(darkseagreen4) #698b69
    set colorlist(seagreen1) #54ff9f
    set colorlist(seagreen2) #4eee94
    set colorlist(seagreen3) #43cd80
    set colorlist(seagreen4) #2e8b57
    set colorlist(palegreen1) #9aff9a
    set colorlist(palegreen2) #90ee90
    set colorlist(palegreen3) #7ccd7c
    set colorlist(palegreen4) #548b54
    set colorlist(springgreen1) #00ff7f
    set colorlist(springgreen2) #00ee76
    set colorlist(springgreen3) #00cd66
    set colorlist(springgreen4) #008b45
    set colorlist(green1) #00ff00
    set colorlist(green2) #00ee00
    set colorlist(green3) #00cd00
    set colorlist(green4) #008b00
    set colorlist(chartreuse1) #7fff00
    set colorlist(chartreuse2) #76ee00
    set colorlist(chartreuse3) #66cd00
    set colorlist(chartreuse4) #458b00
    set colorlist(olivedrab1) #c0ff3e
    set colorlist(olivedrab2) #b3ee3a
    set colorlist(olivedrab3) #9acd32
    set colorlist(olivedrab4) #698b22
    set colorlist(darkoliveGreen1) #caff70
    set colorlist(darkoliveGreen2) #bcee68
    set colorlist(darkoliveGreen3) #a2cd5a
    set colorlist(darkoliveGreen4) #6e8b3d
    set colorlist(khaki1) #fff68f
    set colorlist(khaki2) #eee685
    set colorlist(khaki3) #cdc673
    set colorlist(khaki4) #8b864e
    set colorlist(lightgoldenrod1) #ffec8b
    set colorlist(lightgoldenrod2) #eedc82
    set colorlist(lightgoldenrod3) #cdbe70
    set colorlist(lightgoldenrod4) #8b814c
    set colorlist(lightyellow1) #ffffe0
    set colorlist(lightyellow2) #eeeed1
    set colorlist(lightyellow3) #cdcdb4
    set colorlist(lightyellow4) #8b8b7a
    set colorlist(yellow1) #ffff00
    set colorlist(yellow2) #eeee00
    set colorlist(yellow3) #cdcd00
    set colorlist(yellow4) #8b8b00
    set colorlist(gold1) #ffd700
    set colorlist(gold2) #eec900
    set colorlist(gold3) #cdad00
    set colorlist(gold4) #8b7500
    set colorlist(goldenrod1) #ffc125
    set colorlist(goldenrod2) #eeb422
    set colorlist(goldenrod3) #cd9b1d
    set colorlist(goldenrod4) #8b6914
    set colorlist(darkgoldenrod1) #ffb90f
    set colorlist(darkgoldenrod2) #eead0e
    set colorlist(darkgoldenrod3) #cd950c
    set colorlist(darkgoldenrod4) #8b6508
    set colorlist(rosybrown1) #ffc1c1
    set colorlist(rosybrown2) #eeb4b4
    set colorlist(rosybrown3) #cd9b9b
    set colorlist(rosybrown4) #8b6969
    set colorlist(indianred1) #ff6a6a
    set colorlist(indianred2) #ee6363
    set colorlist(indianred3) #cd5555
    set colorlist(indianred4) #8b3a3a
    set colorlist(sienna1) #ff8247
    set colorlist(sienna2) #ee7942
    set colorlist(sienna3) #cd6839
    set colorlist(sienna4) #8b4726
    set colorlist(burlywood1) #ffd39b
    set colorlist(burlywood2) #eec591
    set colorlist(burlywood3) #cdaa7d
    set colorlist(burlywood4) #8b7355
    set colorlist(wheat1) #ffe7ba
    set colorlist(wheat2) #eed8ae
    set colorlist(wheat3) #cdba96
    set colorlist(wheat4) #8b7e66
    set colorlist(tan1) #ffa54f
    set colorlist(tan2) #ee9a49
    set colorlist(tan3) #cd853f
    set colorlist(tan4) #8b5a2b
    set colorlist(chocolate1) #ff7f24
    set colorlist(chocolate2) #ee7621
    set colorlist(chocolate3) #cd661d
    set colorlist(chocolate4) #8b4513
    set colorlist(firebrick1) #ff3030
    set colorlist(firebrick2) #ee2c2c
    set colorlist(firebrick3) #cd2626
    set colorlist(firebrick4) #8b1a1a
    set colorlist(brown1) #ff4040
    set colorlist(brown2) #ee3b3b
    set colorlist(brown3) #cd3333
    set colorlist(brown4) #8b2323
    set colorlist(salmon1) #ff8c69
    set colorlist(salmon2) #ee8262
    set colorlist(salmon3) #cd7054
    set colorlist(salmon4) #8b4c39
    set colorlist(lightsalmon1) #ffa07a
    set colorlist(lightsalmon2) #ee9572
    set colorlist(lightsalmon3) #cd8162
    set colorlist(lightsalmon4) #8b5742
    set colorlist(orange1) #ffa500
    set colorlist(orange2) #ee9a00
    set colorlist(orange3) #cd8500
    set colorlist(orange4) #8b5a00
    set colorlist(darkorange1) #ff7f00
    set colorlist(darkorange2) #ee7600
    set colorlist(darkorange3) #cd6600
    set colorlist(darkorange4) #8b4500
    set colorlist(coral1) #ff7256
    set colorlist(coral2) #ee6a50
    set colorlist(coral3) #cd5b45
    set colorlist(coral4) #8b3e2f
    set colorlist(tomato1) #ff6347
    set colorlist(tomato2) #ee5c42
    set colorlist(tomato3) #cd4f39
    set colorlist(tomato4) #8b3626
    set colorlist(orangered1) #ff4500
    set colorlist(orangered2) #ee4000
    set colorlist(orangered3) #cd3700
    set colorlist(orangered4) #8b2500
    set colorlist(red1) #ff0000
    set colorlist(red2) #ee0000
    set colorlist(red3) #cd0000
    set colorlist(red4) #8b0000
    set colorlist(deeppink1) #ff1493
    set colorlist(deeppink2) #ee1289
    set colorlist(deeppink3) #cd1076
    set colorlist(deeppink4) #8b0a50
    set colorlist(hotpink1) #ff6eb4
    set colorlist(hotpink2) #ee6aa7
    set colorlist(hotpink3) #cd6090
    set colorlist(hotpink4) #8b3a62
    set colorlist(pink1) #ffb5c5
    set colorlist(pink2) #eea9b8
    set colorlist(pink3) #cd919e
    set colorlist(pink4) #8b636c
    set colorlist(lightpink1) #ffaeb9
    set colorlist(lightpink2) #eea2ad
    set colorlist(lightpink3) #cd8c95
    set colorlist(lightpink4) #8b5f65
    set colorlist(palevioletred1) #ff82ab
    set colorlist(palevioletred2) #ee799f
    set colorlist(palevioletred3) #cd6889
    set colorlist(palevioletred4) #8b475d
    set colorlist(maroon1) #ff34b3
    set colorlist(maroon2) #ee30a7
    set colorlist(maroon3) #cd2990
    set colorlist(maroon4) #8b1c62
    set colorlist(violetred1) #ff3e96
    set colorlist(violetred2) #ee3a8c
    set colorlist(violetred3) #cd3278
    set colorlist(violetred4) #8b2252
    set colorlist(magenta1) #ff00ff
    set colorlist(magenta2) #ee00ee
    set colorlist(magenta3) #cd00cd
    set colorlist(magenta4) #8b008b
    set colorlist(orchid1) #ff83fa
    set colorlist(orchid2) #ee7ae9
    set colorlist(orchid3) #cd69c9
    set colorlist(orchid4) #8b4789
    set colorlist(plum1) #ffbbff
    set colorlist(plum2) #eeaeee
    set colorlist(plum3) #cd96cd
    set colorlist(plum4) #8b668b
    set colorlist(mediumorchid1) #e066ff
    set colorlist(mediumorchid2) #d15fee
    set colorlist(mediumorchid3) #b452cd
    set colorlist(mediumorchid4) #7a378b
    set colorlist(darkorchid1) #bf3eff
    set colorlist(darkorchid2) #b23aee
    set colorlist(darkorchid3) #9a32cd
    set colorlist(darkorchid4) #68228b
    set colorlist(purple1) #9b30ff
    set colorlist(purple2) #912cee
    set colorlist(purple3) #7d26cd
    set colorlist(purple4) #551a8b
    set colorlist(mediumpurple1) #ab82ff
    set colorlist(mediumpurple2) #9f79ee
    set colorlist(mediumpurple3) #8968cd
    set colorlist(mediumpurple4) #5d478b
    set colorlist(thistle1) #ffe1ff
    set colorlist(thistle2) #eed2ee
    set colorlist(thistle3) #cdb5cd
    set colorlist(thistle4) #8b7b8b
    set colorlist(gray0) #000000
    set colorlist(grey0) #000000
    set colorlist(gray1) #030303
    set colorlist(grey1) #030303
    set colorlist(gray2) #050505
    set colorlist(grey2) #050505
    set colorlist(gray3) #080808
    set colorlist(grey3) #080808
    set colorlist(gray4) #0a0a0a
    set colorlist(grey4) #0a0a0a
    set colorlist(gray5) #0d0d0d
    set colorlist(grey5) #0d0d0d
    set colorlist(gray6) #0f0f0f
    set colorlist(grey6) #0f0f0f
    set colorlist(gray7) #121212
    set colorlist(grey7) #121212
    set colorlist(gray8) #141414
    set colorlist(grey8) #141414
    set colorlist(gray9) #171717
    set colorlist(grey9) #171717
    set colorlist(gray10) #1a1a1a
    set colorlist(grey10) #1a1a1a
    set colorlist(gray11) #1c1c1c
    set colorlist(grey11) #1c1c1c
    set colorlist(gray12) #1f1f1f
    set colorlist(grey12) #1f1f1f
    set colorlist(gray13) #212121
    set colorlist(grey13) #212121
    set colorlist(gray14) #242424
    set colorlist(grey14) #242424
    set colorlist(gray15) #262626
    set colorlist(grey15) #262626
    set colorlist(gray16) #292929
    set colorlist(grey16) #292929
    set colorlist(gray17) #2b2b2b
    set colorlist(grey17) #2b2b2b
    set colorlist(gray18) #2e2e2e
    set colorlist(grey18) #2e2e2e
    set colorlist(gray19) #303030
    set colorlist(grey19) #303030
    set colorlist(gray20) #333333
    set colorlist(grey20) #333333
    set colorlist(gray21) #363636
    set colorlist(grey21) #363636
    set colorlist(gray22) #383838
    set colorlist(grey22) #383838
    set colorlist(gray23) #3b3b3b
    set colorlist(grey23) #3b3b3b
    set colorlist(gray24) #3d3d3d
    set colorlist(grey24) #3d3d3d
    set colorlist(gray25) #404040
    set colorlist(grey25) #404040
    set colorlist(gray26) #424242
    set colorlist(grey26) #424242
    set colorlist(gray27) #454545
    set colorlist(grey27) #454545
    set colorlist(gray28) #474747
    set colorlist(grey28) #474747
    set colorlist(gray29) #4a4a4a
    set colorlist(grey29) #4a4a4a
    set colorlist(gray30) #4d4d4d
    set colorlist(grey30) #4d4d4d
    set colorlist(gray31) #4f4f4f
    set colorlist(grey31) #4f4f4f
    set colorlist(gray32) #525252
    set colorlist(grey32) #525252
    set colorlist(gray33) #545454
    set colorlist(grey33) #545454
    set colorlist(gray34) #575757
    set colorlist(grey34) #575757
    set colorlist(gray35) #595959
    set colorlist(grey35) #595959
    set colorlist(gray36) #5c5c5c
    set colorlist(grey36) #5c5c5c
    set colorlist(gray37) #5e5e5e
    set colorlist(grey37) #5e5e5e
    set colorlist(gray38) #616161
    set colorlist(grey38) #616161
    set colorlist(gray39) #636363
    set colorlist(grey39) #636363
    set colorlist(gray40) #666666
    set colorlist(grey40) #666666
    set colorlist(gray41) #696969
    set colorlist(grey41) #696969
    set colorlist(gray42) #6b6b6b
    set colorlist(grey42) #6b6b6b
    set colorlist(gray43) #6e6e6e
    set colorlist(grey43) #6e6e6e
    set colorlist(gray44) #707070
    set colorlist(grey44) #707070
    set colorlist(gray45) #737373
    set colorlist(grey45) #737373
    set colorlist(gray46) #757575
    set colorlist(grey46) #757575
    set colorlist(gray47) #787878
    set colorlist(grey47) #787878
    set colorlist(gray48) #7a7a7a
    set colorlist(grey48) #7a7a7a
    set colorlist(gray49) #7d7d7d
    set colorlist(grey49) #7d7d7d
    set colorlist(gray50) #7f7f7f
    set colorlist(grey50) #7f7f7f
    set colorlist(gray51) #828282
    set colorlist(grey51) #828282
    set colorlist(gray52) #858585
    set colorlist(grey52) #858585
    set colorlist(gray53) #878787
    set colorlist(grey53) #878787
    set colorlist(gray54) #8a8a8a
    set colorlist(grey54) #8a8a8a
    set colorlist(gray55) #8c8c8c
    set colorlist(grey55) #8c8c8c
    set colorlist(gray56) #8f8f8f
    set colorlist(grey56) #8f8f8f
    set colorlist(gray57) #919191
    set colorlist(grey57) #919191
    set colorlist(gray58) #949494
    set colorlist(grey58) #949494
    set colorlist(gray59) #969696
    set colorlist(grey59) #969696
    set colorlist(gray60) #999999
    set colorlist(grey60) #999999
    set colorlist(gray61) #9c9c9c
    set colorlist(grey61) #9c9c9c
    set colorlist(gray62) #9e9e9e
    set colorlist(grey62) #9e9e9e
    set colorlist(gray63) #a1a1a1
    set colorlist(grey63) #a1a1a1
    set colorlist(gray64) #a3a3a3
    set colorlist(grey64) #a3a3a3
    set colorlist(gray65) #a6a6a6
    set colorlist(grey65) #a6a6a6
    set colorlist(gray66) #a8a8a8
    set colorlist(grey66) #a8a8a8
    set colorlist(gray67) #ababab
    set colorlist(grey67) #ababab
    set colorlist(gray68) #adadad
    set colorlist(grey68) #adadad
    set colorlist(gray69) #b0b0b0
    set colorlist(grey69) #b0b0b0
    set colorlist(gray70) #b3b3b3
    set colorlist(grey70) #b3b3b3
    set colorlist(gray71) #b5b5b5
    set colorlist(grey71) #b5b5b5
    set colorlist(gray72) #b8b8b8
    set colorlist(grey72) #b8b8b8
    set colorlist(gray73) #bababa
    set colorlist(grey73) #bababa
    set colorlist(gray74) #bdbdbd
    set colorlist(grey74) #bdbdbd
    set colorlist(gray75) #bfbfbf
    set colorlist(grey75) #bfbfbf
    set colorlist(gray76) #c2c2c2
    set colorlist(grey76) #c2c2c2
    set colorlist(gray77) #c4c4c4
    set colorlist(grey77) #c4c4c4
    set colorlist(gray78) #c7c7c7
    set colorlist(grey78) #c7c7c7
    set colorlist(gray79) #c9c9c9
    set colorlist(grey79) #c9c9c9
    set colorlist(gray80) #cccccc
    set colorlist(grey80) #cccccc
    set colorlist(gray81) #cfcfcf
    set colorlist(grey81) #cfcfcf
    set colorlist(gray82) #d1d1d1
    set colorlist(grey82) #d1d1d1
    set colorlist(gray83) #d4d4d4
    set colorlist(grey83) #d4d4d4
    set colorlist(gray84) #d6d6d6
    set colorlist(grey84) #d6d6d6
    set colorlist(gray85) #d9d9d9
    set colorlist(grey85) #d9d9d9
    set colorlist(gray86) #dbdbdb
    set colorlist(grey86) #dbdbdb
    set colorlist(gray87) #dedede
    set colorlist(grey87) #dedede
    set colorlist(gray88) #e0e0e0
    set colorlist(grey88) #e0e0e0
    set colorlist(gray89) #e3e3e3
    set colorlist(grey89) #e3e3e3
    set colorlist(gray90) #e5e5e5
    set colorlist(grey90) #e5e5e5
    set colorlist(gray91) #e8e8e8
    set colorlist(grey91) #e8e8e8
    set colorlist(gray92) #ebebeb
    set colorlist(grey92) #ebebeb
    set colorlist(gray93) #ededed
    set colorlist(grey93) #ededed
    set colorlist(gray94) #f0f0f0
    set colorlist(grey94) #f0f0f0
    set colorlist(gray95) #f2f2f2
    set colorlist(grey95) #f2f2f2
    set colorlist(gray96) #f5f5f5
    set colorlist(grey96) #f5f5f5
    set colorlist(gray97) #f7f7f7
    set colorlist(grey97) #f7f7f7
    set colorlist(gray98) #fafafa
    set colorlist(grey98) #fafafa
    set colorlist(gray99) #fcfcfc
    set colorlist(grey99) #fcfcfc
    set colorlist(gray100) #ffffff
    set colorlist(grey100) #ffffff
}


set tyMonochrome 0

# COMPATIBILITY procedure

proc ptkColor {name {alternate {}}} {
    ::tycho::color $name $alternate
}

###########################################################################
#### colorList
# Get a list of available colors. If an argument is given, it is
# a glob-style pattern that selects a subset of the available
# colors; if no argument is given, all available colors are returned.
#
body ::tycho::ColorManager::colorList {{pattern *}} {
    return [array names colorlist $pattern]
}

###########################################################################
#### getColor
# Look up a color name in the color list.  If it exists, return
# the rgb value of the color.  If it does not exist, look up the value
# of the second argument, which should normally be "black" or "white".
# All names are converted to lower case before looking them up.
# If the global variable tyMonochrome is set, then use the second
# argument (if it is present).
#
body ::tycho::ColorManager::getColor {name {alternate {}}} {
    if {[regexp {^#.*} $name]} {return $name}
    set usename $name
    global tyMonochrome
    # If the color model is monochrome, use the second argument
    if {$tyMonochrome} {
	if {$alternate != ""} {
	    set usename [lindex $args 0]
	}
    }
    set lname [string tolower $usename]
    set aname [string tolower $alternate]
    global colorlist
    if [info exists colorlist($lname)] {
        return $colorlist($lname)
    } elseif [info exists colorlist($aname)] {
        return $colorlist($aname)
    } else {
        return $colorlist(black)
    }
}

