<!-- @(#)dialog.html	1.13   06/08/98 -->
<html>
<head>
<Title>Dialog Class</Title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="Dialog class">Dialog Class</a></h1>
<p>
The common base class for all dialogs with the user is the Dialog class.
You can use this class to create customized interactions.
For example,
<tcl><pre>
::tycho::Dialog .m -text {A dialog with a customized button}
.m addButton pushme -text {Push Me} -command {::tycho::post thanks}
wm deiconify .m
</pre></tcl>
We have created a widget named <CODE>.m</CODE> and inserted into it a button
named <CODE>pushme</CODE>.  The
<a name="addButton method"><CODE>addButton</CODE></a> method is
defined in the class dialog.  The button is bound to the command 
<CODE>::tycho::post thanks</CODE>.
This class is derived from
<a href="toplevel.html">TopLevel</a>, so you can center it
on the screen, freeze the window size, etc.
<p>
You can mark the button as a
<a name="default method"><CODE>default</CODE></a>
button with the following command:
<tcl><pre>
.m default pushme
</pre></tcl>
This changes the appearance of the button, and has the side effect
of binding the <CODE>Return</CODE> key so that invokes the button.  Try placing
the mouse in the window and hitting <CODE>Return</CODE>.
<p>
Usually, you will also want to bind a keyboard shortcut for
invoking the button.  This is done by giving a <code>-underline</code>
option as follows:
<tcl><pre>
.m addButton x -text Bell -underline 0 -command bell
</pre></tcl>
Clicking on this new button causes the bell to ring.
In addition, typing <CODE>b</CODE> or <CODE>B</CODE> causes the bell to ring.
<p>
You can also directly invoke a button from a script using the
<a name="invoke method"><CODE>invoke</CODE> method</a>:
<tcl quiet><pre>
.m invoke pushme
</pre></tcl>
You can insert a
<a name="bitmap option">
bitmap
</a>
into the message window:
<tcl><pre>
.m configure -bitmap questhead
</pre></tcl>
The value, <a name="questhead bitmap"><CODE>questhead</CODE></a>,
is the name of a built-in bitmap.
Other particularly useful ones are
<a name="error bitmap"><CODE>error</CODE></a>,
<a name="info bitmap"><CODE>info</CODE></a>,
<a name="question bitmap"><CODE>question</CODE></a>,
<a name="hourglass bitmap"><CODE>hourglass</CODE></a>, and
<a name="warning bitmap"><CODE>warning</CODE></a>.
As with any option, we could have specified the <CODE>-bitmap</CODE> option
in the original command creating the widget.
<p>
You can also insert an<a name=image> image</a>
created with the "<a name="image create command"><CODE>image create</CODE></a>"
command, using the Tk <a name="photo widget">photo widget</a>.
<tcl><pre>
image create photo ptgif -file $TYCHO/kernel/img/tychologo.gif
.m configure -image ptgif
</pre></tcl>
You can remove the Dialog window by typing the <CODE>Escape</CODE> key.
<p>
There are two procedures defined in the Dialog class to support
creation of
<a name="modal dialog">modal</a>
and non-modal dialog boxes.  Each of them takes the
name of a class (which must be derived from Dialog), an instance
name, and optional set of arguments, and creates an instance of the class.
The <a name="new procedure"><CODE>new</CODE> procedure</a> creates a non-modal
dialog:
<tcl quiet><pre>
::tycho::Dialog::new Message .y -text &#92
    {This message is automatically mapped}
</pre></tcl>
The <code><a href="messageclasses.html">Message</a></code> class
is a simple class derived from <code>Dialog</code> that adds an "OK" button.
The only advantage of using this feature is that message automatically
appears in the center of the screen, without having to issue a second
command.  This is not a big advantage.
<p>
The Dialog <A NAME="wait"><CODE>wait</CODE></A> procedure can be used
to map an Dialog object to the screen and then wait for the object to
be destroyed.
<p>
<a href="../../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-1998, The Regents of the University of California.
All rights reserved.
<br>
Last updated: 06/08/98,
comments to: <author>eal@eecs.berkeley.edu</author>
</body>
</html>
