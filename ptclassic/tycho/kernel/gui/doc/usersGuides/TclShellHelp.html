<!-- @(#)TclShellHelp.html	1.26 06/08/98 -->
<html>
<head>
<Title>User's Guide to the Tcl Shell Window</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="Tcl shell window">User's Guide to the Tcl Shell Window</a></h1>
<p>
A <a name="shell window">shell window</a>
in Tycho provides a shell for interacting with
the Tcl interpreter.  Note that Tk and Itcl are understood by
this interpreter, as are, of course, all Tycho commands.
If you are running a version of Tycho with Ptolemy attached,
the ptcl or pitcl commands are also understood.  

(See the <A HREF="../../../../typt/doc/internals/pitcl.html">pitcl</A>
page for more information).

By default, commands are executed at the global scope namespace
(<CODE>::</CODE>),
but this can be changed by invoking the <CODE>Set namespace</CODE>
command in the <CODE>Special</CODE> menu.
A shell windows is derived from the <a href="EditHelp.html">Edit window</a>,
and therefore inherits all of its features.
This page documents the additional features provided.
<p>
<ul>
<li><a href="#bindings, shell window">Key Bindings</a>
<li><a href="#shell window, special features">Special Features</a>
<li><a href="#standard output">Standard Output</a>
</ul>
<p>
<h2><a name="bindings, shell window">Key Bindings</a></h2>
Below we describe the Emacs style bindings.  If you have selected
Windows style bindings, see
<a href="../../../../doc/bindings.html">Tycho Shortcuts</a>
<dl COMPACT>
<dt><CODE>Return</CODE><dd>execute the current line as a Tcl command
<dt><CODE>C-a</CODE><dd>go to the beginning of the command
<dt><CODE>C-e</CODE><dd>go to the end of the command
<dt><CODE>C-k</CODE><dd>erase to the end of the command (save to clipboard)
<dt><CODE>C-n or Down</CODE><dd>down one command
<dt><CODE>C-p or Up</CODE><dd>up one command
<dt><CODE>C-u</CODE><dd>erase the current command (save to clipboard)
</dl>
<p>
These bindings can be used to scroll back to previous commands, edit
them, and re-execute them.  The bindings are designed to be maximally
convenient for single line commands, but they can still be used if the
commands themselves have multiple lines.  However, it takes some
getting used to.  In particular, <CODE>C-p</CODE> will not move the
insertion cursor up one line a multi-line command, but rather will
erase the current command altogether and replace it with the previous
command in the command history.  Similarly, <CODE>C-n</CODE> will not
move down one line in a multi-line command.  To edit a multi-line
command, use <CODE>C-b</CODE> and <CODE>C-f</CODE> or <CODE>M-b</CODE> and
<CODE>M-f</CODE> to move around within the command.
Note also that <CODE>C-k</CODE> does not delete to the end of the current
line, but rather deletes to the end of the command.
<p>
<h2><a name="shell window, special features">Special Features</a></h2>
<p>
The Shell window has a number of features designed to make it easier
to experiment with Tcl scripts.  Foremost among these is the 
<a name="history">history</a> mechanism, which keeps a record of previously
executed commands.  A <CODE>Special</CODE> menu provides two commands
related to this:
<p>
<dl>
<dt><CODE>Edit history</CODE><dd>
Open a window that contains the history (previously executed commands)
for the specified shell window.
This is opened as an Itcl context-sensitive editor, so it
can be edited and evaluated.
<dt><CODE>Clear history</CODE><dd>
Reset the history buffer.
</dl>
<p>
Note that the <CODE>Save As</CODE> command, unlike the 
<CODE>Edit History</CODE>command,
saves a snapshot of the previously executed command together with
the returned values and prompts.
Thus, it provides a mechanism for documenting an interaction
with the Tcl interpreter.
<p>
<h2><a name="standard output">Standard Output</a></h2>
<p>

If a shell window has been designated <a name="master
shell">"master"</a> (using the <CODE>-master</CODE> option), then it
will capture standard output generated by the Tcl <a name="puts
command"><CODE>puts</CODE> command</a>, unless
that output is redirected to a file.  If you start Tycho with a shell
window, that shell window is a master shell window.
Note that for output to appear in the master shell window it
may be necessary to call <CODE>update</CODE>, <CODE>update idletasks</CODE>,
<a href="../../../../doc/coding/update.html"><CODE>::tycho::safeUpdate</CODE></a>.
<p>
A second feature of a master shell window is that when it is
dismissed, the program is exited (after confirmation, of course).
<p>
<a href="../../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-1998, The Regents of the University of California.
All rights reserved.
<br>
Last updated: 06/08/98,
comments to: <author>eal@eecs.berkeley.edu</author>
</body>
</html>
