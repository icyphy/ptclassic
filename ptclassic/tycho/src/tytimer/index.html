<!-- $Id$ -->
<html>
<head>
<title>Tycho's Scheduler Support
</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="Scheduler">Tycho's Scheduler Support C Event Loop
</a></h1>
<HR>

 <P>TyScheduler ...

 <P>To run a demonstration of the event loop:
<tcl quiet><pre>
    source $tycho/src/tysched/test.tcl
</pre></tcl>

 <P>Source files:
<ul>
<li><A HREF="test.tcl">Test file</A>
<li><A HREF="tySched.h">Header file</A>
<li><A HREF="tySched.c">C source file</A>
</ul>


<h2>::tycho::scheduler</h2>

<P><code>::tycho::scheduler</code> is a Tcl procedure that starts and
stops the event loop. To ensure that it is in the <code>::tycho</code>
namespace, always load the tyEvent package with <a
href="../../kernel/doc/codeDoc/Loader.html"><code>::tycho::loadIfNotPresent</code></a>. It accepts the following argument formats:

<dl>
 <P><dt><b>::tycho::eventLoop</b>
<dd>Return one if the event loop is currently running, and zero if not.

 <P><dt><b>::tycho::eventLoop start</b> <I>?period?</I>

<dd>Start the event loop. If <I>period</I> is given, the timer
interval is set to <I>period</I> milli-seconds; if not, the timer
period is set to 20 ms. If the loop is already running and
<I>period</I> is given, the timer period is changed to the new value.

 <P><dt><b>::tycho::eventLoop stop</b>

<dd>Stop the event loop. If the event loop is not running, nothing happens.
<br><B>Warning</B>: be very careful not to stop the event
loop before the C function using it has stopped and returned
control to the Tk main loop, or Tycho will freeze.

</dl>

<h2>tyevent_ProcessEvents</h2>

<P><code>tyevent_ProcessEvents</code> is the C function that must be
called by the C loop to poll the timer and process Tk events. It has
no arguments. If the timer has not elapsed, this function returns
immediately, so there is very little overhead in calling it.

 <P>
<HR>
Copyright &#169 1996, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>tycho@eecs.berkeley.edu</author>
</body>
</html>
