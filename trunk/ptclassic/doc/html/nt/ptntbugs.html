<!-- $Id$ -->
<html>
<head>
<title>Ptolemy NT Bugs</title>
</head>
<body bgcolor=#faf0e6>
<H1>Ptolemy NT Bugs</H1>

<h2><a name="cygwin32hints">Cygwin32 hints</a></h2>
If you have problems, try searching the Cygwin32 mailing list archives
via <a href="http://www.cygnus.com/misc/gnu-win32/">Cygnus Cygwin32 page</a>.
The FAQ is also useful.
<h3>Setup</h3>

<li> If your tree is located on a Unix file system, use Samba.
See the <a href="ptntinstall.html">Ptolemy NT Installation page</a>
for details

<li> If you install the Cygwin X11R6 binaries and Exceed, then
you can telnet to a PC, start up <CODE>bash</CODE>, and then start
up an xterm with <CODE>xterm -sb -e bash &amp;</CODE>

<li> The NT Resource kit includes a <CODE>shutdown.exe</CODE> binary
that can be executed from a bash shell.  The following command should reboot:
<CODE>shutdown /L /R /Y /C</CODE>

<li> To use <CODE>gdb</CODE> remotely without the Tcl interface, 
start it with <CODE>gdb -nw </CODE>

<h2>Compilation bugs</h2>
<MENU>

<li> <CODE>make</CODE> failed with
<pre>
c:/tycho0.3.devel/mk/tycommon.mk:276: *** target pattern contains no `%'.
</pre>
<p>The problem here was that <CODE>ROOT</CODE> was set to
<CODE>c:/tycho0.3devel</CODE>.  The colon was being interpreted by
<CODE>make</CODE>, so setting <CODE>ROOT</CODE> to <CODE>/tycho0.3devel</CODE>
fixed the problem.
 <p>
<li> <CODE>make</CODE> failed with:
<pre>
'\\carson\cxh\pt\obj.nt4\pigiRpc' is an invalid current directory
path.  UNC paths are not supported.  Defaulting to Windows directory.
The handle could not be duplicated during a pipe operation.
</pre>
<p> The fix is to run <CODE>make --unix</CODE>, or do
<pre>
MAKE_MODE=unix
export MAKE_MODE
</pre>

<LI> Compiling with GNU-win32 is slow.

<li> The Microsoft Visual C++ port (<CODE>PTARCH == nt4.vc</CODE>)
is unlikely to build and has not been tested.
</MENU>


<h2>Problems Starting Ptolemy</h2>
<menu>

<li> <CODE>$PTOLEMY/bin/pigi</CODE> prints warning messages about
not being able to find <CODE>xrdb</CODE>.  This is because
<CODE>/bin/sh.exe</CODE> does not have a working <CODE>type</CODE>
command.  One workaround would be to copy <CODE>bash.exe</CODE>
to <CODE>/bin/sh.exe</CODE>, though this will result in slower compiles.

<li> If you see the following message, then you may need to 
upgrade to Cygwinb19.1.
<pre>
RPC Error: can not fdopen for write in application
RPC Error: cannot connect to the server
</pre>
</menu>

<h2>Problems Running Ptolemy</h2>
<MENU>
<LI> The Matlab and Mathematica stars do not work.

<li> The SDF Gaussian demo fails with:
<pre>
Error: no interpreter to evaluate 'expr 1024/8'
</pre>
This message comes from <CODE>kernel/InvokeInterp.cc</CODE>:
<pre>
// send a string to an external interpreter for evaluation
const char*
InvokeInterp :: interpreter(const char* expression) {
    Error::error("no interpreter to evaluate '", expression, "'.");
    return NULL;
}
</pre>
My guess is that this has to do with the fact that there are multiple
definitions of this method in the kernel, pigilib and ptcl.
</MENU>

 <HR>
<A HREF="index.html">Up to the Ptolemy under NT page</A> -
<A HREF="ptnt.html">Back to Ptolemy NT Overview</A> -
<A HREF="ptntinstall.html">Forward to Ptolemy NT Installation</A>
<HR>
Copyright &#169 1997-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>cxh@eecs.berkeley.edu</author>
