% Style option to make LaTeX output look more like
% the FrameMaker version of the Almagest.
%
% Version $Id$
% Author:	T. M. Parks
% Created:	7 January 1994


%
% Use PostScript fonts.
%
\input{times.sty}

%
% Make typewriter font bold and smaller.
%
\@getfont\ptt\ttfam\@xiipt{pcrb at 11pt}

%
% Add a bold sans-serif font.
%
\newfam\bsffam
\def\bsf{\protect\pbsf}
\@getfont\pbsf\bsffam\@vipt{phvb at 6pt}
\@getfont\pbsf\bsffam\@viiipt{phvb at 8pt}
\@getfont\pbsf\bsffam\@xpt{phvb at 10pt}
\@getfont\pbsf\bsffam\@xipt{phvb at 11pt}
\@getfont\pbsf\bsffam\@xiipt{phvb at 12pt}
\@getfont\pbsf\bsffam\@xivpt{phvb at 14pt}
\@getfont\pbsf\bsffam\@xviipt{phvb at 17pt}
\@getfont\pbsf\bsffam\@xxpt{phvb at 20pt}
\@getfont\pbsf\bsffam\@xxvpt{phvb at 25pt}

%
% Adjust margins to fit more on a page.
%
\setlength{\textwidth}{6.25in}
\setlength{\oddsidemargin}{0.25in}
\setlength{\evensidemargin}{0in}
\addtolength{\textheight}{\topmargin}
\addtolength{\textheight}{1.0in}
\setlength{\topmargin}{-0.5in}

%
% Redefine the "headings" page style.
%
\newcounter{volume}
\setcounter{volume}{1}
\def\ps@headings{\let\@mkboth\@gobbletwo
    \def\@oddfoot{\footnotesize \sf Ptolemy \hfill Last updated: \@date}
    \def\@evenfoot{\footnotesize \sf UC Berkeley \hfill Department of EECS}
    \def\@oddhead{\footnotesize \sf \rightmark \hfill \thepage}
    \def\@evenhead{\footnotesize \sf \thepage \hfill \leftmark}
    \def\rightmark{The Almagest}
    \def\chaptermark##1{\markboth{##1}{The Almagest}}
    \def\sectionmark##1{} }
\pagestyle{headings}

%
% Redefine the "plain" page style to be the same as "empty".
%
\let\ps@plain\ps@empty

%
% Use chapter number in page numbers.
% \pagenumbering{Chapter}
%
\def\@Chapter#1{\thechapter-\number#1}

%
% Change the appearance of chapter headings,
% and reset the page number.
%
\def\@makechapterhead#1{ %
{\raggedright \noindent \protect\Huge\bsf \@chapapp{} \thechapter . #1}%
\par \vspace*{3pt} \noindent \rule{\textwidth}{1pt} \par \vspace*{15pt}%
\setcounter{page}{1}}

%
% Change the appearance of section headings.
%
% @startsection {NAME}{LEVEL}{INDENT}{BEFORESKIP}{AFTERSKIP}{STYLE}
%
\def\section{\@startsection{section}{1}{0pt}{0pt}{5pt}{\large\bsf}}
\def\subsection{\@startsection{subsection}{2}{0pt}{0pt}{5pt}{\bsf}}
\def\subsubsection{\@startsection{subsubsection}{3}{0pt}{0pt}{5pt}{\bsf}}
\def\paragraph{\@startsection{paragraph}{4}{0pt}{0pt}{5pt}{\bsf}}

%
% Change the appearance of figure and table captions.
%
\def\figurename{FIGURE}
\def\tablename{TABLE}
\let\@MAKECAPTION\@makecaption
\long\def\@makecaption#1#2{\@MAKECAPTION{\bsf#1}{\sf#2}}

%
% Change indentation of "description" lists.
%
\def\@indexKey{}
\renewenvironment{indexlist}[1]%
{\begin{list}{}{%
    \setlength{\leftmargin}{2in}%
    \setlength{\labelsep}{0.25in}%
    \setlength{\labelwidth}{1.5in}%
    \renewcommand{\makelabel}[1]{\bf ##1 \hfill}}%
\def\@indexKey{#1}}%
{\end{list}}

%
% Change the appearance of LaTeXinfo cross references.
%
\def\xrefX [#1,#2,#3,#4,#5,#6]{section\tie\ref{#1}}

%
% Restrict placement of figures.
%
\renewcommand{\floatpagefraction}{1.1}
