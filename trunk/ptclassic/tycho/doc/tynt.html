<!-- @(#)tynt.html	1.29 09/09/98 -->
<html>
<head>
<title>Tycho under Microsoft Windows</title>
</head>
<body bgcolor="#faf0e6">
<HR>
<h1>Tycho under Microsoft Windows</h1>

<H2><A NAME="Windows external links (URLs)">External Windows Tcl
places to go</A> </H2>
<MENU>
<LI> <A HREF="http://ptolemy.eecs.berkeley.edu/tycho/Tycho.html">Tycho distribution at UC Berkeley</A>
<LI> <A HREF="http://ourworld.compuserve.com:80/homepages/efjohnson/tclwin.htm">Tcl/Tk on Windows FAQ</A>
<LI> <A HREF="itcllinks.html">Tcl and Itcl Internet Resources</A>
</MENU>

<H2><A NAME="windows bugs">Tycho/Windows bugs</A></H2>
<MENU>

<li> The only testing of this port was done under NT4.0,
so Windows3.1 and Windows95 users may have other problems.

<LI> Tycho0.3 does not handle spaces in pathnames very well.  Tycho
will work best if the distribution is installed in a directory that
has a pathname that contains no spaces.

<LI> It would be nice if the installation was such that a Windows user could
just mouse on a Tycho icon and then Tycho would come up.
<CODE>$TYCHO/doc/img/tycho32.ico</CODE> is a 32 pixel wide icon
that can be used under Windows with a shortcut. 

<LI> Because of differences in the end-of-line characters between Unix
and Windows, it appears that Tcl scripts edited with the NT
<CODE>Notebook</CODE> program cannot be sourced with Itcl3.0.

<LI> If you run <CODE>nmake</CODE> from within the Tycho Monitor, then
any submakes will bring up new windows, and the <CODE>nmake</CODE> output
will be lost.

</MENU>

<H2>Installing Tycho Under NT</H2>
<OL>
<LI> The Tycho home page at <A
HREF="http://ptolemy.eecs.berkeley.edu/tycho/Tycho.html"><CODE>http://ptolemy.eecs.berkeley.edu/tycho/Tycho.html</CODE></A> has a
link to the downloads page that contains Tycho sources and Itcl
binaries for Windows.

<li> Ptolemy II requires Tcl Blend, the Tcl/Java interface.  Because
of a compatibility issue in Tcl Blend, to install Tcl Blend 1.0, you
must install Tcl8.0 and then install Tcl8.0.3.




<li> Uninstall Itcl2.2 before proceeding with the Itcl3.0 installation.

<li> Download JDK1.1.x from
 <a href="http://www.javasoft.com"><CODE>www.javasoft.comm</CODE></a>
and install it in <CODE>c:\jdk1.1.<I>x</I></CODE>
Note that Tcl Blend will only work with the Sun JDK1.1 and later,
it will not work with the Microsoft JDK.

<li> Download Tcl8.0 from
<a href="ftp://ftp.scriptics.com/pub/tcl/tcl8_0/tcl80p2.exe"><CODE>ftp://ftp.scriptics.com/pub/tcl/tcl8_0/tcl80p2.exe</CODE></a>.
Install Tcl8.0 in <CODE>c:\Program Files\Tcl</CODE>

<li> Remove the contents of <CODE>c:\Program Files\Tcl</CODE> so that
we can install Tcl Blend 1.0 after installing Tcl 8.0.3.
Note that you should remove the directory, not uninstall Tcl8.0.

 <br>Hopefully, a future release of Tcl Blend will fix this problem, in
which case installing Tcl8.0 and removing the directory will not be
necessary.


<li> Tycho0.3 requires Itcl3.0/Tcl8.0.3/Tk8.0.3.
The Tcl Blast CD includes Itcl3.0.
Eventually Itcl3.0 binaries will be available on
<a href="http://www.tcltk.com/itcl"><CODE>http://www.tcltk.com/itcl</CODE></a>

Download the Tcl Blast Windows binary and install it in 
<CODE>C:\Program Files\Tcl</CODE>

<li> Download Tcl Blend 1.0 from
<a href="http://www.scriptics.com/software/java.html"><CODE>http://www.scriptics.com/software/java.html</CODE></a> and
install it in <CODE>c:\Program Files\TclBlend1.0</CODE>

<LI> There are two ways to start up Tycho:
<DL>
<DT> <A HREF="../bin/tycho.bat"><CODE>$TYCHO/bin/tycho.bat</CODE></A>
<DD> A DOS batch file which can can be used as
<MENU>
<LI> <CODE>tycho</CODE>

<LI> <CODE>tycho <I>filename</I></CODE>

</MENU>


<DT> <CODE>$TYCHO/lib/windows/tycho-windows.itk</CODE>
<DD> An <CODE>itk</CODE> file that can be started up by <CODE>itkwish</CODE>
if your system is setup up properly.

</DL>
We discuss the details below.


<LI> Tycho refers to the directory where the Tycho distribution is
with the environment variable <CODE>$TYCHO</CODE>.  In Unix, under
<CODE>csh</CODE>, you would do something like <CODE>setenv TYCHO
/usr/local/tycho</CODE>.

 <P> You can either hardwire this variable by setting it in the
<CODE>tycho-windows</CODE> or 
<CODE>tycho.bat</CODE> start up scripts, or under
NT, you can set the <CODE>TYCHO</CODE> environment variable by
clicking on <CODE>Start</CODE>, then <CODE>Settings</CODE>, then
<CODE>Control Panel</CODE> and finally the <CODE>System</CODE> icon.
In the <CODE>System Properties</CODE> window that comes up, select
<CODE>Environment</CODE>.  There, you can add <CODE>TYCHO</CODE> as a
User Variable.  Incidentally, this is where you set your path.

 <P> If your Tycho distribution is at <CODE>c:\tycho0.3</CODE>, then
you need not set the <CODE>TYCHO</CODE> environment variable, it will
be set for you, by the <CODE>tycho-windows</CODE> script.  If your
distribution is elsewhere, then you must either set the
<CODE>TYCHO</CODE> variable, or edit
<CODE>tycho0.3/lib/windows/tycho-windows</CODE>.

<LI> <CODE>tycho0.3/lib/windows/tycho-windows</CODE>
and <CODE>tycho.bat</CODE>
first check the <CODE>TYCHO</CODE> variable, and if
<CODE>TYCHO</CODE> is not set, then the script expects that the Tycho
distribution will be at <CODE>c:\tycho0.3</CODE>.

<LI> Associate the <CODE>itk</CODE> extension with 
<CODE>C:\Program Files\Tcl\bin\wish80.exe</CODE>.
To associate a suffix with a program:
	<ol>
	<li> Click on <CODE>My Computer</CODE> -&gt;
	<CODE>View</CODE> -&gt; <CODE>Options</CODE> -&gt;
	<CODE>File Types</CODE>-&gt;<CODE>New Type</CODE>

	<li> Update the following fields
	<menu>

	<li> <CODE>Description of type</CODE>: Itkwish 
	<li> <CODE>Associated Extension</CODE>: <CODE>itk</CODE>

	</menu>

	<li> Under the <CODE>Actions</CODE> window, click on 
	<CODE>New</CODE>, then set the <CODE>Action</CODE>
	field to <CODE>open</CODE>.


	<li> Click on <CODE>Browse</CODE>, find the 
	<CODE>wish80.exe</CODE> binary and set the 
	<CODE>Application used to perform action</CODE>	
	field.

	<li> You are done, click <CODE>OK</CODE> until all
	the windows close

	</menu>


<LI> You will need to set the following environment values under NT's System
control panel.  To bring up this control panel, open the <CODE>Start</CODE>
menu, select <CODE>Settings</CODE>, select <CODE>Control Panels</CODE>,
select the <CODE>System</CODE> icon 
and then select the <CODE>Environment</CODE> tab.  
 <br >If you have Adminstrator
privileges, then you should be able to set the <CODE>System Variables</CODE>
for everyone.  If you do not have Adminstrator privileges, then set
the variables in the <CODE>User Variables</CODE> section
<MENU>
<LI> Add the following to the <CODE>Path</CODE>:
<PRE>
C:\Program Files\Tcl\bin;C:\JDK1.1.6\bin;C:\tycho0.3devel\bin
</PRE>

<LI> Create a <CODE>TYCHO</CODE> variable and set it to 
<CODE>C:/tycho0.3</CODE>.  Note that the slash is a Unix style
forward slash, not a DOS style backslash.

<LI> Create a <CODE>JAVA_HOME</CODE> variable and set it to
<CODE>C:/jdk1.1.6</CODE>.  Again, this is a Unix style forward slash


<LI> To run Tycho, you may need to set <CODE>TCL_LIBRARY</CODE> to
<PRE>
C:/Program Files/Tcl/lib/tcl8.0.3
</PRE>
and <CODE>TK_LIBRARY</CODE> to
C:/Program Files/Tcl/lib/tk8.0.3
</MENU>


<P> To start Tycho, click on the
<CODE>tycho0.3/lib/windows/tycho-windows.itk</CODE> script
or add <CODE>%tycho%\bin</CODE> to your path and run <CODE>tycho</CODE>
from the DOS prompt.

<LI> Tycho includes HTML documentation of the Itcl classes that make up
Tycho.  In Tycho0.3, these files are shipped with the Tycho distribution.


</OL>

<p>
Up to: <A HREF="introduction.html">Tycho Introduction</A> -
Previous: <A HREF="releasenotes.html">Release Notes</A> -
Next: <A HREF="troubleshooting.html">Troubleshooting Tycho</A> -
<a href="index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-1998, The Regents of the University of California.
All rights reserved.
<br>
Last updated: 09/09/98,
comments to: <author>tycho@eecs.berkeley.edu</author>
</body>
</html>
