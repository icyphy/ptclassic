<!-- $Id$ -->
<html>
<head>
<Title>User's Guide to the Esterel Editor</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="Esterel editor">User's Guide to the Esterel Editor</a></h1>
<p>
This class provides a text editor specialized for editing
Esterel files.
The editor is invoked automatically when opening any file with the
<a name=".strl extension">".strl" extension</a> appended to its name.
The <a name="EditEsterel class">EditEsterel class</a>, which implements
the editor, is derived from the
<a href="EditProgramHelp.html">EditProgram class</a>, and
therefore inherits all of its features.
Its facility for tagging comments, strings, and keywords
is inherited from this base class.
<p>
A somewhat complicated feature of the editor is its management
of indenting.  A line is automatically indented in response
to a Tab character, and a selected region can be indented
with the "Indent Region" command in the "Format" menu.
Previous lines are used as a reference to determine how
much indenting to do.
There is no assurance that all correct Esterel
code will be given reasonable indenting, but a reasonable
coding style should result in good indenting.
The indenting policy is illustrated below schematically for each Esterel
construct by example, where "..." is an arbitrary section of
code.
<p>
There is no indenting for module bodies:
<pre>
    module
    ...;
    ...
    end
</pre>
Various simple constructs have indented bodies:
<pre>
    abort
        ...
    when ...

    
    await ... do
        ...
    end


    do
        ...
    upto ...


    do
        ...
    watching ...


    every ... do
        ...
    end


    if ... then
        ...
    end


    loop
        ...
    end


    loop
        ...
    each ...


    present ... then
        ...
    end


    repeat ... times 
        ...
    end


    signal ... in
        ...
    end


    suspend
        ...
    when ...
    

    trap ... in  
        ...
    end


    var ... in 
        ...
    end


    weak abort
        ...
    when...
</pre>
Slightly more complicated constructs are handled similarly:
<pre>
    abort
        ...
    when ... do
        ...
    end

    
    do
        ...
    watching ... timeout
        ...
    end
    

    if ... then
        ...
    else
        ...
    end


    if ... then
        ...
    elsif ... then
        ...
    else
        ...
    end


    present ... then
        ...
    else
        ...
    end


    weak abort
        ...
    when ... do
        ...
    end
</pre>
Case and handle statements are treated specially.
They are aligned with the preceding control statement.
<pre>
    abort
        ...
    when
    case ... do
        ...
    case
    case ... do
        ...
    end


    present
    case ... do
        ...
    case
    case ... do
        ...
    end

    
    trap ... in
        ...
    handle ... do
        ...
    handle ...
    handle ... do
        ...
    end trap
</pre>
Also, parallel operators alone on a line are shifted to the left:
<pre>
    await ... do
        ...
    ||
        ...
    end
</pre>
Incomplete statements have extra indenting on the subsequent
lines, as in:
<pre>
    input A, 
            B, 
            C;
</pre>
<p>
<a href="../../../../doc/index.html">Tycho Home Page</a><br>
<HR>
Copyright &#169 1996-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>eal@eecs.berkeley.edu</author>
</body>
</html>
