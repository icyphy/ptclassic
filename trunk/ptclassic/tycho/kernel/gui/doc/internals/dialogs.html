<!-- $Id$ -->
<html>
<head>
<Title>Dialog Procedures</Title>
</head>
<body>
<a name="dialog procedures">
<h1>Dialog Procedures</h1>
</a>
<p>
Tycho provides a set of ordinary procedures, defined in the tycho
namespace, that serve as simplified interfaces to the classes used
to create messages for the user and ask the user questions.
These are explained here.
<p>
Messages and dialog boxes used to interact with users can be either
<em>modal</em> or <em>non-modal</em>.
A <a name="modal dialog">modal dialog</a> is one that prevents the user
from performing any other action (within the application) until the
dialog has been dismissed.
A non-modal dialog is one where the
user can perform other functions before dealing with the dialog.
Both are useful, and most widgets designed to interact with the user
support both.
<h2>Contents</h2>
<ul>
<li><a href="#Message procedures">Message Procedures</a>
<li><a href="#question dialogs">Asking the User Questions</a>
</ul>
<a name="Message procedures">
<h2>Message Procedures</h2>
</a>
<p>
There are three basic message procedures:
<tcl><pre>
::tycho::inform {This message is created with the inform command}
::tycho::warn {This message is created with the warn command}
tkerror {This message is created with the tkerror command}
</pre></tcl>
All three of these open modal dialogs.  This, in fact, is the
reason that when you click on the above, the dialog boxes appear
one at a time, one after another, rather than all at once.
The <a name="inform procedure">inform procedure</a> posts a simple
message, the <a name="warn procedure">warn procedure</a> posts
a message with an exclamation point bitmap, and the
<a name="tkerror procedure">tkerror procedure</a> posts
a message with an error symbol bitmap.
<p>
You should not use the tkerror procedure directly, except in very rare
circumstances.  Instead, just call the Tcl command <em>error</em> when
you wish to signal an error.  See
<a href="error.html">Error Handling</a>.
<p>
There are also some non-modal mechanisms for posting messages.
"Non-modal" means that execution continues as soon as the
message is posted.  Here is one simple way to provide information
to the user:
<tcl><pre>
::tycho::post {This message is created with the post command}
</pre></tcl>
Note that with the <a name="post procedure">post procedure</a>
you can leave the message on the screen as long
as you like, and proceed with your work.
</a>
<p><a name="question dialogs">
<h2>Asking the User Questions</h2>
</a>
<p>
You can ask the user questions, getting the response back
and taking some action accordingly.  The
<a name="askuser procedure">askuser procedure</a> asks a
<a name="yes-no questions">yes-no question</a>:
<tcl><pre>
if [::tycho::askuser "Are you awake?"] {
    ::tycho::inform "You said yes!"
} {
    ::tycho::inform "Then how did you click on the No button?"
}
</pre></tcl>

You can also prompt the user a
<a name="typed response questions">typed response</a> with the
<a name="queryinfo procedure">queryinfo procedure</a>.  For example:
<tcl><pre>
::tycho::inform "You entered: [::tycho::queryinfo {Enter a string}]"
</pre></tcl>
The <em>queryinfo</em> procedure opens a dialog box with an
<a name="entry box queries">entry box</a>
for the user to enter text.  It returns the string that the user
enters, or a null string if the user clicks on the Cancel button
(or enters a null string).  This procedure can take two optional
arguments, a default string, and a width (in characters) for the
entry box.  For example,
<tcl><pre>
::tycho::inform &#92;
"You entered: [::tycho::queryinfo {Enter a string} {Default} 20]"
</pre></tcl>
<p>
<a href="../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 %Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: %D%,
comments to: <author>eal@eecs.berkeley.edu</author>
