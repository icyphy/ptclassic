<!-- $Id$ -->
<html>
<head>
<Title>Error Handling</Title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="error handling">Error Handling</a></h1>
<p>
Errors in scripts, procedures, and methods should be handled simply
by calling the
<a name="error procedure"><code>error</code> procedure</a>,
which is built into Tcl.  The single argument is an error message.
This procedure unravels the stack (so you do not need to return
after calling it).  If the error occurs in the background (most
errors are
<a name="background errors">background errors</a>, since Tycho
applications are interactive, and most procedures are invoked in
response to key or mouse bindings), then the error procedure calls
the <a name="tkerror procedure"><code>tkerror</code> procedure</a>.
This procedure is defined by Tycho
in the global scope, rather than the <CODE>::tycho</CODE> scope.
Thus, if I trigger an error as follows:
<tcl><pre>
error {Error message}
</pre></tcl>

Tcl believes that an error occurred trying to run the Tcl script
embedded in this text.  If you click on the <CODE>Stack Trace</CODE>
button that appears in error message box, you can verify that the
error occurred within a call of the form <CODE>uplevel #0 $cmd</CODE>.
This is, in fact, the statement that executes embedded Tcl code in
this document.  The Tcl code you just executed triggered an error.
The <a name="stack trace">stack trace</a> generally reflects
information about the most recent error that generated a stack trace.
Thus, if you invoke the <CODE>tkerror</CODE> script directly the stack
trace will be fairly meaningless, if there is one at all.  The correct
way to signal an error within your own scripts by calling
<code>error</code>, not <code>tkerror</code>.

<p>
<a href="../../../doc/index.html">Tycho Home Page</a><br>
<p>
<HR>
Copyright &#169 1996-%Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>eal@eecs.berkeley.edu</author>
</body>
</html>
