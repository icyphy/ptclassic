<!-- $Id$ -->
<html>
<head>
<Title>User's Guide to the Tcl Console Window</title>
</head>
<body>
[<a href="../introduction.html">        Home     </a>]
[<a href="../authors.html">             Authors  </a>]
[<a href="../../../tycho.idx">          Index    </a>]
[<a href="../abbreviations.html">       Abbreviations </a>]
[<a href="../bindings.html">            Key bindings </a>]
<HR>
<h1><a name="Tcl console window">User's Guide to the Tcl Console Window</a></h1>
<p>
A <a name="console window">console window</a>
in Tycho provides a shell for interacting with
the Tcl interpreter.  Note that Tk and Itcl are understood by
this interpreter, as are, of course, all Tycho commands.
If you are running a version of Tycho with Ptolemy attached,
the ptcl commands are also understood.
Commands are executed at the global scope.
A console windows is derived from the <a href=EditHelp.html>Edit window</a>,
and therefore inherits all of its features.
This page documents the additional features provided.
<p>
<ul>
<li><a href="#bindings, console window">Key Bindings</a>
<li><a href="#console window, special features">Special Features</a>
<li><a href="#standard output">Standard Output</a>
</ul>
<p>
<h2><a name="bindings, console window">Key Bindings</a></h2>
<dl COMPACT>
<b><dt>Return</b><dd>execute the current line as a Tcl command
<b><dt>C-a</b><dd>go to the beginning of the command
<b><dt>C-e</b><dd>go to the end of the command
<b><dt>C-k</b><dd>erase to the end of the command (save to clipboard)
<b><dt>C-n</b><dd>down one command
<b><dt>C-p</b><dd>up one command
<b><dt>C-u</b><dd>erase the current command (save to clipboard)
</dl>
<p>
These bindings can be used to scroll back to previous commands,
edit them, and re-execute them.  The bindings are designed to
be maximally convenient for single line commands, but
they can still be used if the commands themselves
have multiple lines.  However, it takes some getting used to.
In particular, Control-p will not move the insertion cursor up one
line a multi-line command, but rather will erase the current command
altogether and replace it with the previous command in the command
history.  Similarly, Control-n will not move down one line in
a multi-line command.  To edit a multi-line command, use Control-b
and Control-f or Meta-b and Meta-f to move around within the command.
Note also that Control-k does not delete to the end of the current
line, but rather deletes to the end of the command.
<p>
<h2><a name="console window, special features">Special Features</a></h2>
<p>
The Console window has a number of features designed to make
it easier to experiment with Tcl scripts.  Foremost among
these is the <a name=history>history</a>
mechanism, which keeps a record of previously
executed commands.  A "Special" menu provides two commands related to this:
<dl>
<b><dt>Edit history</b><dd>
Open a window that contains the history (previously executed commands)
for the specified console window.
This is opened as an Itcl context-sensitive editor, so it
can be edited and evaluated.
<b><dt>Clear history</b><dd>
Reset the history buffer.
</dl>
<p>
Note that the Save-As command, unlike the Edit history command,
saves a snapshot of the previously executed command together with
the returned values and prompts.
Thus, it provides a mechanism for documenting an interaction
with the Tcl interpreter.
<p>
<h2><a name="standard output">Standard Output</a></h2>
<p>
If a console window has been designated <a name="master console">"master"</a>
(using the -master option), then it will capture standard output
generated by the Tcl <a name="puts command">puts command</a>, unless
that output is redirected to a file.  If you start Tycho with a console
window, that console window is a master console window.
Note that for output to appear in the master console window it
may be necessary to call "update", "update idletasks", or
<a href="../internals/saferUpdate.html">"::tycho::saferUpdate"</a>.
<p>
A second feature of a master console window is that when it is
dismissed, the program is exited (after confirmation, of course).
<p>
<HR>
Copyright &#169 %Q%, The Regents of the University of California.
All rights reserved.
<br>
Last updated: %D%,
comments to: <author>eal@eecs.berkeley.edu</author>
